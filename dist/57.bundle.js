(function(){
(this||window)["webpackJsonp"].registerAbsMids({
	'esri/layers/graphics/controllers/StreamController':"./node_modules/arcgis-js-api/layers/graphics/controllers/StreamController.js",
	'esri/layers/support/StreamPurger':"./node_modules/arcgis-js-api/layers/support/StreamPurger.js"
})
})(),(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[57],{

/***/ "./node_modules/arcgis-js-api/layers/graphics/controllers/StreamController.js":
/*!************************************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/graphics/controllers/StreamController.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT Â© 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../../../core/declare */ \"./node_modules/arcgis-js-api/core/declare.js\"),__webpack_require__(/*! dojo/Deferred */ \"./node_modules/dojo/Deferred.js\"),__webpack_require__(/*! ../../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\"),__webpack_require__(/*! ../../../core/Promise */ \"./node_modules/arcgis-js-api/core/Promise.js\"),__webpack_require__(/*! ../../../core/Collection */ \"./node_modules/arcgis-js-api/core/Collection.js\"),__webpack_require__(/*! ../../../core/Handles */ \"./node_modules/arcgis-js-api/core/Handles.js\"),__webpack_require__(/*! ../../../core/Evented */ \"./node_modules/arcgis-js-api/core/Evented.js\"),__webpack_require__(/*! ../../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../../support/StreamPurger */ \"./node_modules/arcgis-js-api/layers/support/StreamPurger.js\"),__webpack_require__(/*! ../../../Graphic */ \"./node_modules/arcgis-js-api/Graphic.js\"),__webpack_require__(/*! ../../../geometry/support/jsonUtils */ \"./node_modules/arcgis-js-api/geometry/support/jsonUtils.js\"),__webpack_require__(/*! ../../../tasks/support/Query */ \"./node_modules/arcgis-js-api/tasks/support/Query.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,r,i,n,s,o,a,l,u,h,c,d){return e([r,i,o],{declaredClass:\"esri.layers.graphics.controllers.StreamController\",constructor:function(){this._addFeatures=this._addFeatures.bind(this),this._handleMessage=this._handleMessage.bind(this),this._handles=new s,this._nextId=0},initialize:function(){var e=this.layer.when(function(){var e=n.ofType(h);return this.source=this.layer.source,this.graphics=this.graphics||new e,this._initializeFilter(),new u(this).when()}.bind(this)).then(function(e){return this.purger=e,this._makeConnection()}.bind(this)).catch(function(e){throw new l(\"stream-controller:initialize\",\"Error during initialization process\",e.message)}.bind(this));this.addResolvingPromise(e)},destroy:function(){this.connection&&(this.connection.disconnect(),this._set(\"connection\",null)),this.purger&&(this.purger.destroy(),this.purger=null),this.graphics=null,this._handles&&(this._handles.destroy(),this._handles=null)},properties:{connection:{readOnly:!0,value:null},graphics:{type:n.ofType(h),set:function(e){this._get(\"graphics\")!==e&&(this._handles.remove(\"graphics\"),e&&(this._collectionChanged({added:e.toArray()}),this._handles.add(e.on(\"change\",this._collectionChanged.bind(this)),\"graphics\")),this._set(\"graphics\",e))}},layerView:{},type:{readOnly:!0,value:\"stream\"},filter:{value:{geometry:null,where:null},readOnly:!0},definitionExpression:{value:null,get:function(){return console.warn(\"StreamController.definitionExpression is deprecated. Access the filter.where property\"),this.filter.where},set:function(e){console.warn(\"StreamController.definitionExpression is deprecated. Use the updateFilter method to change the attribute filter\");var t={where:e};this.updateFilter(t)}},geometryDefinition:{value:null,get:function(){return console.warn(\"StreamController.geometryDefinition is deprecated. Access the filter.geometry property\"),this.filter.geometry},set:function(e){console.warn(\"StreamController.geometryDefinition is deprecated. Use the updateFilter method to change the spatial filter\");var t={geometry:e};this.updateFilter(t)}},layer:{value:{}},purger:{set:function(e){this._get(\"purger\")!==e&&this._set(\"purger\",e)}},updating:{value:!1,readOnly:!0,dependsOn:[\"connection\",\"connection.connectionStatus\"],get:function(){return!this.connection||\"connected\"===this.connection.connectionStatus}}},updateFilter:function(e){return this._filterValid(e)?this._filterChanged(e)?this._setFilter(e):a.resolve({filter:this.filter}):a.reject(new Error(\"Invalid properties in filter. geometry must be an extent and where must be a string\"))},_makeConnection:function(){return this._handles.remove(\"websocket\"),this._addBuddiedServiceFeatures(!0).then(function(){return this._addBuddiedServiceFeatures(!1)}.bind(this),function(e){return a.reject(new Error(\"Error fetching related features. Layer cannot be created\"))}.bind(this)).then(function(e){var t=this.layerView.view.spatialReference;return this.source.createWebSocketConnector(t)}.bind(this)).then(function(e){return this._set(\"connection\",e),this._handles.add(e.on(\"data-received\",function(e){this._handleMessage(e)}.bind(this)),\"websocket\"),e.connect()}.bind(this))},_handleMessage:function(e){var t,r=JSON.parse(e);this.emit(\"data-received\",r),r.filter||(t=r instanceof Array?r:[r],this._addFeatures(t))},_addFeatures:function(e){if(e){for(var t=this.layer.objectIdField,r=[],i=0,n=e.length;i<n;i++){var s,o=e[i];!o.geometry||o.geometry.hasOwnProperty(\"x\")&&!o.geometry.x||(o.attributes&&(o.attributes[t]||0===o.attributes[t])||(o.attributes=o.attributes||{},o.attributes[t]=this._nextId++),s=o.declaredClass?o:h.fromJSON(o),r.push(s))}this.purger.addMany(r)}},_collectionChanged:function(e){var t,r,i;if(i=e.added)for(t=0;r=i[t];t++)r.layer=this.layer,r.sourceLayer=this.layer;if(i=e.removed)for(t=0;r=i[t];t++)r.layer=null,r.sourceLayer=null},_initializeFilter:function(){var e=this.layer;e&&e.filter&&this._set(\"filter\",{where:e.filter.where||null,geometry:e.filter.geometry||null}),this._handles.add(this.watch(\"layer.filter\",function(e){this._setFilter(e)}.bind(this)))},_filterChanged:function(e){var t,r=!1,i=!1;return t=e?this.source.makeFilter(e):{geometry:null,where:null},t.hasOwnProperty(\"geometry\")&&(r=t.geometry?!t.geometry.equals(this.filter.geometry):t.geometry!==this.filter.geometry),t.hasOwnProperty(\"where\")&&(i=t.where!==this.filter.where),r||i},_filterValid:function(e){var t=!0;return e&&(e.hasOwnProperty(\"geometry\")&&e.geometry&&(e.geometry.type&&\"extent\"===e.geometry.type||(t=!1)),t&&e.hasOwnProperty(\"where\")&&e.where&&\"string\"!=typeof e.where&&(t=!1)),t},_setFilter:function(e){var r=null,i=new t;e&&(r=this.source.makeFilter(e),r.geometry&&\"string\"!=typeof r.geometry&&(r.geometry=r.geometry.toJSON?JSON.stringify(r.geometry.toJSON()):JSON.stringify(r.geometry)));var n={filter:r},s=this.connection.on(\"data-received\",function(e){if(e=JSON.parse(e),e.hasOwnProperty(\"filter\")){s.remove();var t=this._processFilterMessage(e);t.error?i.reject(t.error):i.resolve({filter:this.filter})}}.bind(this));return this.connection.send(n),i.promise},_processFilterMessage:function(e){var t,r,i={};return e.error?(i.error=new Error(e.error.join(\",\")),i.filter={where:this.filter.where,geometry:this.filter.geometry}):(e.filter=e.filter||{},t=e.filter.geometry,t&&(\"string\"==typeof t&&(t=JSON.parse(t)),t=c.fromJSON(t)),r={where:e.filter.where||null,geometry:t||null},this._set(\"filter\",r),this.notifyChange(\"geometryDefinition\"),this.notifyChange(\"definitionExpression\"),i.filter=r),i},_addBuddiedServiceFeatures:function(e){var t,r,i;if(e){if(!this.source.relatedFeaturesInfo)return a.resolve();t=this.source.relatedFeaturesQueryTask,r=this.source.relatedLayerDefinition,i=this._createQuery(r,!0)}else{if(!this.source.latestUrl)return a.resolve();t=this.source.latestQueryTask,r=this.source.archivedLayerDefinition,i=this._createQuery(r,!1)}return!!(r.advancedQueryCapabilities||{}).supportsPagination&&(i.num=r.maxRecordCount),this._query({query:i,queryTask:t}).then(function(e){if(e){var t=this._fixFieldNameCasing(this.source.layer,e);e.features=t,this._addFeatures(e.features)}return a.resolve()}.bind(this),function(e){return a.reject(e)},function(e){e&&this._addFeatures(e.features)}.bind(this))},_query:function(e){var r=e.query,i=e.queryTask,n=new t;r.num&&(r.start=0);var s=function(e){(e||0===e)&&(r.start=e),i.execute(r).then(o,function(e){n.reject(e)})},o=function(e){e.exceededTransferLimit&&r.num?(s(r.start+r.num),n.progress(e)):n.resolve(e)};return s(r.start),n.promise},_createQuery:function(e,t){var r=this.layer,i=this.layerView,n={where:\"1=1\",returnGeometry:!0,outFields:[\"*\"]};if(!e)return new d(n);var s;s=t?this.source.relatedFeaturesInfo&&this.source.relatedFeaturesInfo.outFields:r.outFields,s=s?s.slice(0):[\"*\"];var o=this.filter.where||\"1=1\";if(t){var a=this._getFieldsNotShared(e,this.layer.fields);s=this._removeInvalidOutfields(a,s),\"1=1\"!==o&&this._checkForInvalidFieldInWhere(a,o)&&(o=\"1=1\")}return s=this._addObjectIdFieldToOutfields(e,s),new d({where:o,geometry:this.filter.geometry,outFields:s,outSpatialReference:i.view.spatialReference,returnGeometry:!0})},_addObjectIdFieldToOutfields:function(e,t){if(t=t||[\"*\"],\"*\"!==t[0]){var r=this._getObjectIdFieldName(e);if(r){t.some(function(e){return e.toLowerCase()===r.toLowerCase()})||t.push(r)}}return t},_removeInvalidOutfields:function(e,t){t=t||[\"*\"];var r;return\"*\"!==t[0]&&(r=t.filter(function(t){if(-1===e.indexOf(t))return t})),r&&0!==r.length?r:[\"*\"]},_checkForInvalidFieldInWhere:function(e,t){return!(!t||\"1=1\"===t)&&e.some(function(e){return new RegExp(\"\\\\s*\"+e+\"\\\\b\",\"i\").test(t)})},_getObjectIdFieldName:function(e){var t=null;return e.fields.some(function(e){return\"esriFieldTypeOID\"===e.type&&(t=e.name,!0)}),t},_getFieldsNotShared:function(e,t){var r=e.fields.map(function(e){return e.name.toLowerCase()}),i=[];return t.forEach(function(e){var t=e.name;-1===r.indexOf(t.toLowerCase())&&i.push(t)}),i},_fixFieldNameCasing:function(e,t){var r,i,n=[];if(!e)throw new Error(\"streamLayer is a required argument for _fixFieldNameCasingmethod\");if(e&&(r=e.fields),t&&(n=t.features||[],i=t.fields),!i||!n.length||!r)return n;for(var s,o,a=this._mapFieldNameDifferences(r,i),l=[],u=0,h=t.features.length;u<h;u++)s=n[u],o=this._swizzleResponseAttributes(s.attributes,a),s.attributes=o,l.push(s);return l},_mapFieldNameDifferences:function(e,t){var r,i,n=[],s={};for(e=e||[],t=t||[],r=0,i=t.length;r<i;r++)n.push(t[r].name);for(r=0,i=e.length;r<i;r++){var o=e[r].name,a=this._checkForStreamFieldName(o,n);a&&(s[a]=o)}return s},_checkForStreamFieldName:function(e,t){var r,i,n;if(t&&t.length){if(e&&e.toLowerCase){r=e.toLowerCase();for(var s=0,o=t.length;s<o;s++)if(i=t[s],i.toLowerCase&&i.toLowerCase()===r){n=i;break}}return n}},_swizzleResponseAttributes:function(e,t){var r={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];t.hasOwnProperty(i)?r[t[i]]=n:r[i]=n}return r}})}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvZ3JhcGhpY3MvY29udHJvbGxlcnMvU3RyZWFtQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcmNnaXMtanMtYXBpL2xheWVycy9ncmFwaGljcy9jb250cm9sbGVycy9TdHJlYW1Db250cm9sbGVyLmpzPzM1YTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ09QWVJJR0hUIMKpIDIwMTggRXNyaVxuLy9cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgdW5kZXIgdGhlIGNvcHlyaWdodCBsYXdzIG9mIHRoZSBVbml0ZWQgU3RhdGVzXG4vLyBhbmQgYXBwbGljYWJsZSBpbnRlcm5hdGlvbmFsIGxhd3MsIHRyZWF0aWVzLCBhbmQgY29udmVudGlvbnMuXG4vL1xuLy8gVGhpcyBtYXRlcmlhbCBpcyBsaWNlbnNlZCBmb3IgdXNlIHVuZGVyIHRoZSBFc3JpIE1hc3RlciBMaWNlbnNlXG4vLyBBZ3JlZW1lbnQgKE1MQSksIGFuZCBpcyBib3VuZCBieSB0aGUgdGVybXMgb2YgdGhhdCBhZ3JlZW1lbnQuXG4vLyBZb3UgbWF5IHJlZGlzdHJpYnV0ZSBhbmQgdXNlIHRoaXMgY29kZSB3aXRob3V0IG1vZGlmaWNhdGlvbixcbi8vIHByb3ZpZGVkIHlvdSBhZGhlcmUgdG8gdGhlIHRlcm1zIG9mIHRoZSBNTEEgYW5kIGluY2x1ZGUgdGhpc1xuLy8gY29weXJpZ2h0IG5vdGljZS5cbi8vXG4vLyBTZWUgdXNlIHJlc3RyaWN0aW9ucyBhdCBodHRwOi8vd3d3LmVzcmkuY29tL2xlZ2FsL3BkZnMvbWxhX2UyMDRfZTMwMC9lbmdsaXNoXG4vL1xuLy8gRm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24sIGNvbnRhY3Q6XG4vLyBFbnZpcm9ubWVudGFsIFN5c3RlbXMgUmVzZWFyY2ggSW5zdGl0dXRlLCBJbmMuXG4vLyBBdHRuOiBDb250cmFjdHMgYW5kIExlZ2FsIFNlcnZpY2VzIERlcGFydG1lbnRcbi8vIDM4MCBOZXcgWW9yayBTdHJlZXRcbi8vIFJlZGxhbmRzLCBDYWxpZm9ybmlhLCBVU0EgOTIzNzNcbi8vIFVTQVxuLy9cbi8vIGVtYWlsOiBjb250cmFjdHNAZXNyaS5jb21cbi8vXG4vLyBTZWUgaHR0cDovL2pzLmFyY2dpcy5jb20vNC44L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cblxuZGVmaW5lKFtcIi4uLy4uLy4uL2NvcmUvZGVjbGFyZVwiLFwiZG9qby9EZWZlcnJlZFwiLFwiLi4vLi4vLi4vY29yZS9BY2Nlc3NvclwiLFwiLi4vLi4vLi4vY29yZS9Qcm9taXNlXCIsXCIuLi8uLi8uLi9jb3JlL0NvbGxlY3Rpb25cIixcIi4uLy4uLy4uL2NvcmUvSGFuZGxlc1wiLFwiLi4vLi4vLi4vY29yZS9FdmVudGVkXCIsXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlsc1wiLFwiLi4vLi4vLi4vY29yZS9FcnJvclwiLFwiLi4vLi4vc3VwcG9ydC9TdHJlYW1QdXJnZXJcIixcIi4uLy4uLy4uL0dyYXBoaWNcIixcIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzXCIsXCIuLi8uLi8uLi90YXNrcy9zdXBwb3J0L1F1ZXJ5XCJdLGZ1bmN0aW9uKGUsdCxyLGksbixzLG8sYSxsLHUsaCxjLGQpe3JldHVybiBlKFtyLGksb10se2RlY2xhcmVkQ2xhc3M6XCJlc3JpLmxheWVycy5ncmFwaGljcy5jb250cm9sbGVycy5TdHJlYW1Db250cm9sbGVyXCIsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9hZGRGZWF0dXJlcz10aGlzLl9hZGRGZWF0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX2hhbmRsZU1lc3NhZ2U9dGhpcy5faGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpLHRoaXMuX2hhbmRsZXM9bmV3IHMsdGhpcy5fbmV4dElkPTB9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxheWVyLndoZW4oZnVuY3Rpb24oKXt2YXIgZT1uLm9mVHlwZShoKTtyZXR1cm4gdGhpcy5zb3VyY2U9dGhpcy5sYXllci5zb3VyY2UsdGhpcy5ncmFwaGljcz10aGlzLmdyYXBoaWNzfHxuZXcgZSx0aGlzLl9pbml0aWFsaXplRmlsdGVyKCksbmV3IHUodGhpcykud2hlbigpfS5iaW5kKHRoaXMpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1cmdlcj1lLHRoaXMuX21ha2VDb25uZWN0aW9uKCl9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uKGUpe3Rocm93IG5ldyBsKFwic3RyZWFtLWNvbnRyb2xsZXI6aW5pdGlhbGl6ZVwiLFwiRXJyb3IgZHVyaW5nIGluaXRpYWxpemF0aW9uIHByb2Nlc3NcIixlLm1lc3NhZ2UpfS5iaW5kKHRoaXMpKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJih0aGlzLmNvbm5lY3Rpb24uZGlzY29ubmVjdCgpLHRoaXMuX3NldChcImNvbm5lY3Rpb25cIixudWxsKSksdGhpcy5wdXJnZXImJih0aGlzLnB1cmdlci5kZXN0cm95KCksdGhpcy5wdXJnZXI9bnVsbCksdGhpcy5ncmFwaGljcz1udWxsLHRoaXMuX2hhbmRsZXMmJih0aGlzLl9oYW5kbGVzLmRlc3Ryb3koKSx0aGlzLl9oYW5kbGVzPW51bGwpfSxwcm9wZXJ0aWVzOntjb25uZWN0aW9uOntyZWFkT25seTohMCx2YWx1ZTpudWxsfSxncmFwaGljczp7dHlwZTpuLm9mVHlwZShoKSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2V0KFwiZ3JhcGhpY3NcIikhPT1lJiYodGhpcy5faGFuZGxlcy5yZW1vdmUoXCJncmFwaGljc1wiKSxlJiYodGhpcy5fY29sbGVjdGlvbkNoYW5nZWQoe2FkZGVkOmUudG9BcnJheSgpfSksdGhpcy5faGFuZGxlcy5hZGQoZS5vbihcImNoYW5nZVwiLHRoaXMuX2NvbGxlY3Rpb25DaGFuZ2VkLmJpbmQodGhpcykpLFwiZ3JhcGhpY3NcIikpLHRoaXMuX3NldChcImdyYXBoaWNzXCIsZSkpfX0sbGF5ZXJWaWV3Ont9LHR5cGU6e3JlYWRPbmx5OiEwLHZhbHVlOlwic3RyZWFtXCJ9LGZpbHRlcjp7dmFsdWU6e2dlb21ldHJ5Om51bGwsd2hlcmU6bnVsbH0scmVhZE9ubHk6ITB9LGRlZmluaXRpb25FeHByZXNzaW9uOnt2YWx1ZTpudWxsLGdldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJTdHJlYW1Db250cm9sbGVyLmRlZmluaXRpb25FeHByZXNzaW9uIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgZmlsdGVyLndoZXJlIHByb3BlcnR5XCIpLHRoaXMuZmlsdGVyLndoZXJlfSxzZXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiU3RyZWFtQ29udHJvbGxlci5kZWZpbml0aW9uRXhwcmVzc2lvbiBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHVwZGF0ZUZpbHRlciBtZXRob2QgdG8gY2hhbmdlIHRoZSBhdHRyaWJ1dGUgZmlsdGVyXCIpO3ZhciB0PXt3aGVyZTplfTt0aGlzLnVwZGF0ZUZpbHRlcih0KX19LGdlb21ldHJ5RGVmaW5pdGlvbjp7dmFsdWU6bnVsbCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiU3RyZWFtQ29udHJvbGxlci5nZW9tZXRyeURlZmluaXRpb24gaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHRoZSBmaWx0ZXIuZ2VvbWV0cnkgcHJvcGVydHlcIiksdGhpcy5maWx0ZXIuZ2VvbWV0cnl9LHNldDpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oXCJTdHJlYW1Db250cm9sbGVyLmdlb21ldHJ5RGVmaW5pdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHVwZGF0ZUZpbHRlciBtZXRob2QgdG8gY2hhbmdlIHRoZSBzcGF0aWFsIGZpbHRlclwiKTt2YXIgdD17Z2VvbWV0cnk6ZX07dGhpcy51cGRhdGVGaWx0ZXIodCl9fSxsYXllcjp7dmFsdWU6e319LHB1cmdlcjp7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dldChcInB1cmdlclwiKSE9PWUmJnRoaXMuX3NldChcInB1cmdlclwiLGUpfX0sdXBkYXRpbmc6e3ZhbHVlOiExLHJlYWRPbmx5OiEwLGRlcGVuZHNPbjpbXCJjb25uZWN0aW9uXCIsXCJjb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0dXNcIl0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuY29ubmVjdGlvbnx8XCJjb25uZWN0ZWRcIj09PXRoaXMuY29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdHVzfX19LHVwZGF0ZUZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZmlsdGVyVmFsaWQoZSk/dGhpcy5fZmlsdGVyQ2hhbmdlZChlKT90aGlzLl9zZXRGaWx0ZXIoZSk6YS5yZXNvbHZlKHtmaWx0ZXI6dGhpcy5maWx0ZXJ9KTphLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3BlcnRpZXMgaW4gZmlsdGVyLiBnZW9tZXRyeSBtdXN0IGJlIGFuIGV4dGVudCBhbmQgd2hlcmUgbXVzdCBiZSBhIHN0cmluZ1wiKSl9LF9tYWtlQ29ubmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGVzLnJlbW92ZShcIndlYnNvY2tldFwiKSx0aGlzLl9hZGRCdWRkaWVkU2VydmljZUZlYXR1cmVzKCEwKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FkZEJ1ZGRpZWRTZXJ2aWNlRmVhdHVyZXMoITEpfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGUpe3JldHVybiBhLnJlamVjdChuZXcgRXJyb3IoXCJFcnJvciBmZXRjaGluZyByZWxhdGVkIGZlYXR1cmVzLiBMYXllciBjYW5ub3QgYmUgY3JlYXRlZFwiKSl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sYXllclZpZXcudmlldy5zcGF0aWFsUmVmZXJlbmNlO3JldHVybiB0aGlzLnNvdXJjZS5jcmVhdGVXZWJTb2NrZXRDb25uZWN0b3IodCl9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldChcImNvbm5lY3Rpb25cIixlKSx0aGlzLl9oYW5kbGVzLmFkZChlLm9uKFwiZGF0YS1yZWNlaXZlZFwiLGZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZU1lc3NhZ2UoZSl9LmJpbmQodGhpcykpLFwid2Vic29ja2V0XCIpLGUuY29ubmVjdCgpfS5iaW5kKHRoaXMpKX0sX2hhbmRsZU1lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQscj1KU09OLnBhcnNlKGUpO3RoaXMuZW1pdChcImRhdGEtcmVjZWl2ZWRcIixyKSxyLmZpbHRlcnx8KHQ9ciBpbnN0YW5jZW9mIEFycmF5P3I6W3JdLHRoaXMuX2FkZEZlYXR1cmVzKHQpKX0sX2FkZEZlYXR1cmVzOmZ1bmN0aW9uKGUpe2lmKGUpe2Zvcih2YXIgdD10aGlzLmxheWVyLm9iamVjdElkRmllbGQscj1bXSxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKXt2YXIgcyxvPWVbaV07IW8uZ2VvbWV0cnl8fG8uZ2VvbWV0cnkuaGFzT3duUHJvcGVydHkoXCJ4XCIpJiYhby5nZW9tZXRyeS54fHwoby5hdHRyaWJ1dGVzJiYoby5hdHRyaWJ1dGVzW3RdfHwwPT09by5hdHRyaWJ1dGVzW3RdKXx8KG8uYXR0cmlidXRlcz1vLmF0dHJpYnV0ZXN8fHt9LG8uYXR0cmlidXRlc1t0XT10aGlzLl9uZXh0SWQrKykscz1vLmRlY2xhcmVkQ2xhc3M/bzpoLmZyb21KU09OKG8pLHIucHVzaChzKSl9dGhpcy5wdXJnZXIuYWRkTWFueShyKX19LF9jb2xsZWN0aW9uQ2hhbmdlZDpmdW5jdGlvbihlKXt2YXIgdCxyLGk7aWYoaT1lLmFkZGVkKWZvcih0PTA7cj1pW3RdO3QrKylyLmxheWVyPXRoaXMubGF5ZXIsci5zb3VyY2VMYXllcj10aGlzLmxheWVyO2lmKGk9ZS5yZW1vdmVkKWZvcih0PTA7cj1pW3RdO3QrKylyLmxheWVyPW51bGwsci5zb3VyY2VMYXllcj1udWxsfSxfaW5pdGlhbGl6ZUZpbHRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMubGF5ZXI7ZSYmZS5maWx0ZXImJnRoaXMuX3NldChcImZpbHRlclwiLHt3aGVyZTplLmZpbHRlci53aGVyZXx8bnVsbCxnZW9tZXRyeTplLmZpbHRlci5nZW9tZXRyeXx8bnVsbH0pLHRoaXMuX2hhbmRsZXMuYWRkKHRoaXMud2F0Y2goXCJsYXllci5maWx0ZXJcIixmdW5jdGlvbihlKXt0aGlzLl9zZXRGaWx0ZXIoZSl9LmJpbmQodGhpcykpKX0sX2ZpbHRlckNoYW5nZWQ6ZnVuY3Rpb24oZSl7dmFyIHQscj0hMSxpPSExO3JldHVybiB0PWU/dGhpcy5zb3VyY2UubWFrZUZpbHRlcihlKTp7Z2VvbWV0cnk6bnVsbCx3aGVyZTpudWxsfSx0Lmhhc093blByb3BlcnR5KFwiZ2VvbWV0cnlcIikmJihyPXQuZ2VvbWV0cnk/IXQuZ2VvbWV0cnkuZXF1YWxzKHRoaXMuZmlsdGVyLmdlb21ldHJ5KTp0Lmdlb21ldHJ5IT09dGhpcy5maWx0ZXIuZ2VvbWV0cnkpLHQuaGFzT3duUHJvcGVydHkoXCJ3aGVyZVwiKSYmKGk9dC53aGVyZSE9PXRoaXMuZmlsdGVyLndoZXJlKSxyfHxpfSxfZmlsdGVyVmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7cmV0dXJuIGUmJihlLmhhc093blByb3BlcnR5KFwiZ2VvbWV0cnlcIikmJmUuZ2VvbWV0cnkmJihlLmdlb21ldHJ5LnR5cGUmJlwiZXh0ZW50XCI9PT1lLmdlb21ldHJ5LnR5cGV8fCh0PSExKSksdCYmZS5oYXNPd25Qcm9wZXJ0eShcIndoZXJlXCIpJiZlLndoZXJlJiZcInN0cmluZ1wiIT10eXBlb2YgZS53aGVyZSYmKHQ9ITEpKSx0fSxfc2V0RmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciByPW51bGwsaT1uZXcgdDtlJiYocj10aGlzLnNvdXJjZS5tYWtlRmlsdGVyKGUpLHIuZ2VvbWV0cnkmJlwic3RyaW5nXCIhPXR5cGVvZiByLmdlb21ldHJ5JiYoci5nZW9tZXRyeT1yLmdlb21ldHJ5LnRvSlNPTj9KU09OLnN0cmluZ2lmeShyLmdlb21ldHJ5LnRvSlNPTigpKTpKU09OLnN0cmluZ2lmeShyLmdlb21ldHJ5KSkpO3ZhciBuPXtmaWx0ZXI6cn0scz10aGlzLmNvbm5lY3Rpb24ub24oXCJkYXRhLXJlY2VpdmVkXCIsZnVuY3Rpb24oZSl7aWYoZT1KU09OLnBhcnNlKGUpLGUuaGFzT3duUHJvcGVydHkoXCJmaWx0ZXJcIikpe3MucmVtb3ZlKCk7dmFyIHQ9dGhpcy5fcHJvY2Vzc0ZpbHRlck1lc3NhZ2UoZSk7dC5lcnJvcj9pLnJlamVjdCh0LmVycm9yKTppLnJlc29sdmUoe2ZpbHRlcjp0aGlzLmZpbHRlcn0pfX0uYmluZCh0aGlzKSk7cmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zZW5kKG4pLGkucHJvbWlzZX0sX3Byb2Nlc3NGaWx0ZXJNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LHIsaT17fTtyZXR1cm4gZS5lcnJvcj8oaS5lcnJvcj1uZXcgRXJyb3IoZS5lcnJvci5qb2luKFwiLFwiKSksaS5maWx0ZXI9e3doZXJlOnRoaXMuZmlsdGVyLndoZXJlLGdlb21ldHJ5OnRoaXMuZmlsdGVyLmdlb21ldHJ5fSk6KGUuZmlsdGVyPWUuZmlsdGVyfHx7fSx0PWUuZmlsdGVyLmdlb21ldHJ5LHQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9SlNPTi5wYXJzZSh0KSksdD1jLmZyb21KU09OKHQpKSxyPXt3aGVyZTplLmZpbHRlci53aGVyZXx8bnVsbCxnZW9tZXRyeTp0fHxudWxsfSx0aGlzLl9zZXQoXCJmaWx0ZXJcIixyKSx0aGlzLm5vdGlmeUNoYW5nZShcImdlb21ldHJ5RGVmaW5pdGlvblwiKSx0aGlzLm5vdGlmeUNoYW5nZShcImRlZmluaXRpb25FeHByZXNzaW9uXCIpLGkuZmlsdGVyPXIpLGl9LF9hZGRCdWRkaWVkU2VydmljZUZlYXR1cmVzOmZ1bmN0aW9uKGUpe3ZhciB0LHIsaTtpZihlKXtpZighdGhpcy5zb3VyY2UucmVsYXRlZEZlYXR1cmVzSW5mbylyZXR1cm4gYS5yZXNvbHZlKCk7dD10aGlzLnNvdXJjZS5yZWxhdGVkRmVhdHVyZXNRdWVyeVRhc2sscj10aGlzLnNvdXJjZS5yZWxhdGVkTGF5ZXJEZWZpbml0aW9uLGk9dGhpcy5fY3JlYXRlUXVlcnkociwhMCl9ZWxzZXtpZighdGhpcy5zb3VyY2UubGF0ZXN0VXJsKXJldHVybiBhLnJlc29sdmUoKTt0PXRoaXMuc291cmNlLmxhdGVzdFF1ZXJ5VGFzayxyPXRoaXMuc291cmNlLmFyY2hpdmVkTGF5ZXJEZWZpbml0aW9uLGk9dGhpcy5fY3JlYXRlUXVlcnkociwhMSl9cmV0dXJuISEoci5hZHZhbmNlZFF1ZXJ5Q2FwYWJpbGl0aWVzfHx7fSkuc3VwcG9ydHNQYWdpbmF0aW9uJiYoaS5udW09ci5tYXhSZWNvcmRDb3VudCksdGhpcy5fcXVlcnkoe3F1ZXJ5OmkscXVlcnlUYXNrOnR9KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuX2ZpeEZpZWxkTmFtZUNhc2luZyh0aGlzLnNvdXJjZS5sYXllcixlKTtlLmZlYXR1cmVzPXQsdGhpcy5fYWRkRmVhdHVyZXMoZS5mZWF0dXJlcyl9cmV0dXJuIGEucmVzb2x2ZSgpfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGUpe3JldHVybiBhLnJlamVjdChlKX0sZnVuY3Rpb24oZSl7ZSYmdGhpcy5fYWRkRmVhdHVyZXMoZS5mZWF0dXJlcyl9LmJpbmQodGhpcykpfSxfcXVlcnk6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5xdWVyeSxpPWUucXVlcnlUYXNrLG49bmV3IHQ7ci5udW0mJihyLnN0YXJ0PTApO3ZhciBzPWZ1bmN0aW9uKGUpeyhlfHwwPT09ZSkmJihyLnN0YXJ0PWUpLGkuZXhlY3V0ZShyKS50aGVuKG8sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KX0sbz1mdW5jdGlvbihlKXtlLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCYmci5udW0/KHMoci5zdGFydCtyLm51bSksbi5wcm9ncmVzcyhlKSk6bi5yZXNvbHZlKGUpfTtyZXR1cm4gcyhyLnN0YXJ0KSxuLnByb21pc2V9LF9jcmVhdGVRdWVyeTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubGF5ZXIsaT10aGlzLmxheWVyVmlldyxuPXt3aGVyZTpcIjE9MVwiLHJldHVybkdlb21ldHJ5OiEwLG91dEZpZWxkczpbXCIqXCJdfTtpZighZSlyZXR1cm4gbmV3IGQobik7dmFyIHM7cz10P3RoaXMuc291cmNlLnJlbGF0ZWRGZWF0dXJlc0luZm8mJnRoaXMuc291cmNlLnJlbGF0ZWRGZWF0dXJlc0luZm8ub3V0RmllbGRzOnIub3V0RmllbGRzLHM9cz9zLnNsaWNlKDApOltcIipcIl07dmFyIG89dGhpcy5maWx0ZXIud2hlcmV8fFwiMT0xXCI7aWYodCl7dmFyIGE9dGhpcy5fZ2V0RmllbGRzTm90U2hhcmVkKGUsdGhpcy5sYXllci5maWVsZHMpO3M9dGhpcy5fcmVtb3ZlSW52YWxpZE91dGZpZWxkcyhhLHMpLFwiMT0xXCIhPT1vJiZ0aGlzLl9jaGVja0ZvckludmFsaWRGaWVsZEluV2hlcmUoYSxvKSYmKG89XCIxPTFcIil9cmV0dXJuIHM9dGhpcy5fYWRkT2JqZWN0SWRGaWVsZFRvT3V0ZmllbGRzKGUscyksbmV3IGQoe3doZXJlOm8sZ2VvbWV0cnk6dGhpcy5maWx0ZXIuZ2VvbWV0cnksb3V0RmllbGRzOnMsb3V0U3BhdGlhbFJlZmVyZW5jZTppLnZpZXcuc3BhdGlhbFJlZmVyZW5jZSxyZXR1cm5HZW9tZXRyeTohMH0pfSxfYWRkT2JqZWN0SWRGaWVsZFRvT3V0ZmllbGRzOmZ1bmN0aW9uKGUsdCl7aWYodD10fHxbXCIqXCJdLFwiKlwiIT09dFswXSl7dmFyIHI9dGhpcy5fZ2V0T2JqZWN0SWRGaWVsZE5hbWUoZSk7aWYocil7dC5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCk9PT1yLnRvTG93ZXJDYXNlKCl9KXx8dC5wdXNoKHIpfX1yZXR1cm4gdH0sX3JlbW92ZUludmFsaWRPdXRmaWVsZHM6ZnVuY3Rpb24oZSx0KXt0PXR8fFtcIipcIl07dmFyIHI7cmV0dXJuXCIqXCIhPT10WzBdJiYocj10LmZpbHRlcihmdW5jdGlvbih0KXtpZigtMT09PWUuaW5kZXhPZih0KSlyZXR1cm4gdH0pKSxyJiYwIT09ci5sZW5ndGg/cjpbXCIqXCJdfSxfY2hlY2tGb3JJbnZhbGlkRmllbGRJbldoZXJlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISghdHx8XCIxPTFcIj09PXQpJiZlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBSZWdFeHAoXCJcXFxccypcIitlK1wiXFxcXGJcIixcImlcIikudGVzdCh0KX0pfSxfZ2V0T2JqZWN0SWRGaWVsZE5hbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4gZS5maWVsZHMuc29tZShmdW5jdGlvbihlKXtyZXR1cm5cImVzcmlGaWVsZFR5cGVPSURcIj09PWUudHlwZSYmKHQ9ZS5uYW1lLCEwKX0pLHR9LF9nZXRGaWVsZHNOb3RTaGFyZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmZpZWxkcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZS50b0xvd2VyQ2FzZSgpfSksaT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZTstMT09PXIuaW5kZXhPZih0LnRvTG93ZXJDYXNlKCkpJiZpLnB1c2godCl9KSxpfSxfZml4RmllbGROYW1lQ2FzaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPVtdO2lmKCFlKXRocm93IG5ldyBFcnJvcihcInN0cmVhbUxheWVyIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQgZm9yIF9maXhGaWVsZE5hbWVDYXNpbmdtZXRob2RcIik7aWYoZSYmKHI9ZS5maWVsZHMpLHQmJihuPXQuZmVhdHVyZXN8fFtdLGk9dC5maWVsZHMpLCFpfHwhbi5sZW5ndGh8fCFyKXJldHVybiBuO2Zvcih2YXIgcyxvLGE9dGhpcy5fbWFwRmllbGROYW1lRGlmZmVyZW5jZXMocixpKSxsPVtdLHU9MCxoPXQuZmVhdHVyZXMubGVuZ3RoO3U8aDt1Kyspcz1uW3VdLG89dGhpcy5fc3dpenpsZVJlc3BvbnNlQXR0cmlidXRlcyhzLmF0dHJpYnV0ZXMsYSkscy5hdHRyaWJ1dGVzPW8sbC5wdXNoKHMpO3JldHVybiBsfSxfbWFwRmllbGROYW1lRGlmZmVyZW5jZXM6ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG49W10scz17fTtmb3IoZT1lfHxbXSx0PXR8fFtdLHI9MCxpPXQubGVuZ3RoO3I8aTtyKyspbi5wdXNoKHRbcl0ubmFtZSk7Zm9yKHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWVbcl0ubmFtZSxhPXRoaXMuX2NoZWNrRm9yU3RyZWFtRmllbGROYW1lKG8sbik7YSYmKHNbYV09byl9cmV0dXJuIHN9LF9jaGVja0ZvclN0cmVhbUZpZWxkTmFtZTpmdW5jdGlvbihlLHQpe3ZhciByLGksbjtpZih0JiZ0Lmxlbmd0aCl7aWYoZSYmZS50b0xvd2VyQ2FzZSl7cj1lLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBzPTAsbz10Lmxlbmd0aDtzPG87cysrKWlmKGk9dFtzXSxpLnRvTG93ZXJDYXNlJiZpLnRvTG93ZXJDYXNlKCk9PT1yKXtuPWk7YnJlYWt9fXJldHVybiBufX0sX3N3aXp6bGVSZXNwb25zZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIGkgaW4gZSlpZihlLmhhc093blByb3BlcnR5KGkpKXt2YXIgbj1lW2ldO3QuaGFzT3duUHJvcGVydHkoaSk/clt0W2ldXT1uOnJbaV09bn1yZXR1cm4gcn19KX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/graphics/controllers/StreamController.js\n");

/***/ }),

/***/ "./node_modules/arcgis-js-api/layers/support/StreamPurger.js":
/*!*******************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/support/StreamPurger.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT Â© 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../../core/declare */ \"./node_modules/arcgis-js-api/core/declare.js\"),__webpack_require__(/*! ../../core/lang */ \"./node_modules/arcgis-js-api/core/lang.js\"),__webpack_require__(/*! ../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../core/Accessor */ \"./node_modules/arcgis-js-api/core/Accessor.js\"),__webpack_require__(/*! ../../core/Promise */ \"./node_modules/arcgis-js-api/core/Promise.js\"),__webpack_require__(/*! dojo/Deferred */ \"./node_modules/dojo/Deferred.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,i,s,r,a){return e([s,r],{declaredClass:\"esri.layers.support.StreamPurger\",constructor:function(){this._featuresByTime={},this._lastEndTimeCheck=null,this._trackIds={},this._affectedTrackIds=[],this._doTimePurge=!1,this._doTrackPurge=!1,this._watchHandlers=[],this._processQueue=[],this._flushQueueTimer=null},normalizeCtorArgs:function(e){return e=e||{},e.controller||(e={controller:e}),e},getDefaults:function(){return t.mixin(this.inherited(arguments),{idField:\"uid\",parentField:\"parent\"})},initialize:function(){var e;if(this.controller&&this.controller.layer)try{this.graphics=this.controller.graphics,this.layer=this.controller.layer;var t=this.get(\"layer.trackIdField\");t&&(this.trackIdField=t,this._doTrackPurge=!0),this.maximumTrackPoints=this.get(\"layer.maximumTrackPoints\"),this._watchHandlers.push(this.layer.watch(\"maximumTrackPoints\",function(e){this.set(\"maximumTrackPoints\",e)}.bind(this))),this.get(\"layer.purgeOptions.age\")&&this.set(\"maxFeatureAge\",this.layer.purgeOptions.age),(this.get(\"layer.timeInfo.endTimeField\")||this.maxFeatureAge)&&(this._doTimePurge=!0,this._lastEndTimeCheck=1e3*Math.ceil(Date.now()/1e3)),this.displayCount=this.get(\"layer.purgeOptions.displayCount\"),this._watchHandlers.push(this.layer.watch(\"purgeOptions\",function(e){e.hasOwnProperty(\"displayCount\")&&this.set(\"displayCount\",e.displayCount),e.hasOwnProperty(\"age\")&&this.set(\"maxFeatureAge\",e.age)}.bind(this)))}catch(t){e=new a,this.addResolvingPromise(e.promise),e.reject(t)}else e=new a,this.addResolvingPromise(e.promise),e.reject(new Error(\"A controller with a layer is required for StreamPurger constructor\"))},destroy:function(){this._flushQueueTimer&&(clearTimeout(this._flushQueueTimer),this._flushQueueTimer=null),this._processQueue=null,this._affectedTrackIds=null;for(var e=0,t=this._watchHandlers.length;e<t;e++)this._watchHandlers[e].remove()},properties:{graphics:null,controller:null,idField:null,layer:null,trackIdField:null,maximumTrackPoints:{set:function(e){var t=this.maximumTrackPoints;t!==e&&(this._set(\"maximumTrackPoints\",e),this._doTrackPurge&&(0===t||0!==e&&e<t)&&this._purgeByTracks())}},parentField:null,displayCount:{set:function(e){var t=this.displayCount;t!==e&&(this._set(\"displayCount\",e),e<t&&this._purgeByDisplayCount())}},maxFeatureAge:{value:0,set:function(e){this.maxFeatureAge!==e&&(this._set(\"maxFeatureAge\",Math.ceil(6e4*e)),this.maxFeatureAge?(this._doTimePurge=!0,this._lastEndTimeCheck=1e3*Math.ceil(Date.now()/1e3)):this._doTimePurge=!1)}}},addMany:function(e){var t,i,s,r,a,h,n=this._featuresByTime;for(t=0,i=e.length;t<i;t++)a=null,s=e[t],this._doTrackPurge&&(a=s.attributes[this.trackIdField],s[this.parentField]=a,this._trackIds.hasOwnProperty(a)?this._trackIds[a]+=1:this._trackIds[a]=1,-1===this._affectedTrackIds.indexOf(a)&&this._affectedTrackIds.push(a)),this._doTimePurge&&(h=this._getExpireTimeOfItem(s))&&(r={id:s[this.idField]},null!==a&&(r.trackId=a),h=1e3*Math.ceil(h/1e3),n[h]?n[h].push(r):n[h]=[r]),this._processQueue.push(s);this._flushQueueTimer||(this._flushQueueTimer=setTimeout(this._flushProcessQueue.bind(this),200))},purge:function(e){this._doTimePurge&&this._purgeByTime(),this._doTrackPurge&&this._purgeByTracks(e),this._purgeByDisplayCount()},_flushProcessQueue:function(){return clearTimeout(this._flushQueueTimer),this._flushQueueTimer=null,i.resolve(this._processQueue.splice(0)).then(function(e){this.graphics.addMany(e);var t=this._affectedTrackIds.splice(0);return this.purge(t)}.bind(this))},_getExpireTimeOfItem:function(e){var t,i=this.layer.timeInfo||{};return t=i.endTimeField&&e.attributes[i.endTimeField],!t&&this.maxFeatureAge&&(t=i.startTimeField&&e.attributes[i.startTimeField]?e.attributes[i.startTimeField]+this.maxFeatureAge:Date.now()+this.maxFeatureAge),t},_getIndexOfItem:function(e){var t,i,s=this.idField;return t=\"object\"==typeof e?e[s]:e,i=function(e){return e[s]===t},this.graphics.findIndex(i,this)},_getItemsByParent:function(e){var t=function(t){return t[this.parentField]===e};return this.graphics.filter(t,this)},_processRemovedTrackFeatures:function(e){if(this._doTrackPurge&&e&&e.length)for(var t,i=0,s=e.length;i<s;i++)t=e[i],this._trackIds[t]-=1,0===this._trackIds[t]&&delete this._trackIds[t]},_purgeByDisplayCount:function(){var e,t,i=[],s=this.displayCount;if((e=this.graphics.length-s)>0){for(var r=0;r<e;r++)this._doTrackPurge&&(t=this.graphics.getItemAt(0)[this.parentField],i.push(t)),this.graphics.removeAt(0);this._processRemovedTrackFeatures(i)}},_purgeByTime:function(){if(this._featuresByTime&&0!==Object.getOwnPropertyNames(this._featuresByTime).length){var e,t,i,s,r=this.layer,a=r.timeInfo||{},h=a.endTimeField,n=[],u=[];if((h||this.maxFeatureAge)&&(e=1e3*Math.floor(this._lastEndTimeCheck/1e3),t=1e3*Math.ceil(Date.now()/1e3),this._lastEndTimeCheck=t,e&&e!==t)){for(s=this._featuresByTime,i=e;i<=t;i+=1e3)s[i]&&(n=n.concat(s[i]),delete s[i]);for(var o=0,l=n.length;o<l;o++){var c=n[o],d=this._getIndexOfItem(c.id);-1!==d&&(this.graphics.removeAt(d),(c.trackId||0===c.trackId)&&u.push(c.trackId))}this._processRemovedTrackFeatures(u)}}},_purgeByTracks:function(e){function t(e){var t,i;if(t=this._getItemsByParent(e),(i=t.length-s)>0){for(var r=0;r<i;r++)this._removeItemFromCollection(t.getItemAt(r));this._trackIds[e]=s}}if(e=e||[],this.maximumTrackPoints){var i,s=this.maximumTrackPoints;if(e.length)for(var r=0,a=e.length;r<a;r++)i=e[r],this._trackIds[i]>s&&t.call(this,i);else{e=this._trackIds;for(i in e)e[i]>s&&t.call(this,i)}}},_removeItemFromCollection:function(e){var t,i=e[this.idField];if(void 0!==i)return t=this._getIndexOfItem(e),-1!==t&&this.graphics.removeAt(t),{index:t,id:i,parent:e[this.parentField]}}})}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9TdHJlYW1QdXJnZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9TdHJlYW1QdXJnZXIuanM/YzM3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDT1BZUklHSFQgwqkgMjAxOCBFc3JpXG4vL1xuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCB1bmRlciB0aGUgY29weXJpZ2h0IGxhd3Mgb2YgdGhlIFVuaXRlZCBTdGF0ZXNcbi8vIGFuZCBhcHBsaWNhYmxlIGludGVybmF0aW9uYWwgbGF3cywgdHJlYXRpZXMsIGFuZCBjb252ZW50aW9ucy5cbi8vXG4vLyBUaGlzIG1hdGVyaWFsIGlzIGxpY2Vuc2VkIGZvciB1c2UgdW5kZXIgdGhlIEVzcmkgTWFzdGVyIExpY2Vuc2Vcbi8vIEFncmVlbWVudCAoTUxBKSwgYW5kIGlzIGJvdW5kIGJ5IHRoZSB0ZXJtcyBvZiB0aGF0IGFncmVlbWVudC5cbi8vIFlvdSBtYXkgcmVkaXN0cmlidXRlIGFuZCB1c2UgdGhpcyBjb2RlIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuLy8gcHJvdmlkZWQgeW91IGFkaGVyZSB0byB0aGUgdGVybXMgb2YgdGhlIE1MQSBhbmQgaW5jbHVkZSB0aGlzXG4vLyBjb3B5cmlnaHQgbm90aWNlLlxuLy9cbi8vIFNlZSB1c2UgcmVzdHJpY3Rpb25zIGF0IGh0dHA6Ly93d3cuZXNyaS5jb20vbGVnYWwvcGRmcy9tbGFfZTIwNF9lMzAwL2VuZ2xpc2hcbi8vXG4vLyBGb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiwgY29udGFjdDpcbi8vIEVudmlyb25tZW50YWwgU3lzdGVtcyBSZXNlYXJjaCBJbnN0aXR1dGUsIEluYy5cbi8vIEF0dG46IENvbnRyYWN0cyBhbmQgTGVnYWwgU2VydmljZXMgRGVwYXJ0bWVudFxuLy8gMzgwIE5ldyBZb3JrIFN0cmVldFxuLy8gUmVkbGFuZHMsIENhbGlmb3JuaWEsIFVTQSA5MjM3M1xuLy8gVVNBXG4vL1xuLy8gZW1haWw6IGNvbnRyYWN0c0Blc3JpLmNvbVxuLy9cbi8vIFNlZSBodHRwOi8vanMuYXJjZ2lzLmNvbS80LjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuXG5kZWZpbmUoW1wiLi4vLi4vY29yZS9kZWNsYXJlXCIsXCIuLi8uLi9jb3JlL2xhbmdcIixcIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzXCIsXCIuLi8uLi9jb3JlL0FjY2Vzc29yXCIsXCIuLi8uLi9jb3JlL1Byb21pc2VcIixcImRvam8vRGVmZXJyZWRcIl0sZnVuY3Rpb24oZSx0LGkscyxyLGEpe3JldHVybiBlKFtzLHJdLHtkZWNsYXJlZENsYXNzOlwiZXNyaS5sYXllcnMuc3VwcG9ydC5TdHJlYW1QdXJnZXJcIixjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuX2ZlYXR1cmVzQnlUaW1lPXt9LHRoaXMuX2xhc3RFbmRUaW1lQ2hlY2s9bnVsbCx0aGlzLl90cmFja0lkcz17fSx0aGlzLl9hZmZlY3RlZFRyYWNrSWRzPVtdLHRoaXMuX2RvVGltZVB1cmdlPSExLHRoaXMuX2RvVHJhY2tQdXJnZT0hMSx0aGlzLl93YXRjaEhhbmRsZXJzPVtdLHRoaXMuX3Byb2Nlc3NRdWV1ZT1bXSx0aGlzLl9mbHVzaFF1ZXVlVGltZXI9bnVsbH0sbm9ybWFsaXplQ3RvckFyZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8e30sZS5jb250cm9sbGVyfHwoZT17Y29udHJvbGxlcjplfSksZX0sZ2V0RGVmYXVsdHM6ZnVuY3Rpb24oKXtyZXR1cm4gdC5taXhpbih0aGlzLmluaGVyaXRlZChhcmd1bWVudHMpLHtpZEZpZWxkOlwidWlkXCIscGFyZW50RmllbGQ6XCJwYXJlbnRcIn0pfSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5jb250cm9sbGVyJiZ0aGlzLmNvbnRyb2xsZXIubGF5ZXIpdHJ5e3RoaXMuZ3JhcGhpY3M9dGhpcy5jb250cm9sbGVyLmdyYXBoaWNzLHRoaXMubGF5ZXI9dGhpcy5jb250cm9sbGVyLmxheWVyO3ZhciB0PXRoaXMuZ2V0KFwibGF5ZXIudHJhY2tJZEZpZWxkXCIpO3QmJih0aGlzLnRyYWNrSWRGaWVsZD10LHRoaXMuX2RvVHJhY2tQdXJnZT0hMCksdGhpcy5tYXhpbXVtVHJhY2tQb2ludHM9dGhpcy5nZXQoXCJsYXllci5tYXhpbXVtVHJhY2tQb2ludHNcIiksdGhpcy5fd2F0Y2hIYW5kbGVycy5wdXNoKHRoaXMubGF5ZXIud2F0Y2goXCJtYXhpbXVtVHJhY2tQb2ludHNcIixmdW5jdGlvbihlKXt0aGlzLnNldChcIm1heGltdW1UcmFja1BvaW50c1wiLGUpfS5iaW5kKHRoaXMpKSksdGhpcy5nZXQoXCJsYXllci5wdXJnZU9wdGlvbnMuYWdlXCIpJiZ0aGlzLnNldChcIm1heEZlYXR1cmVBZ2VcIix0aGlzLmxheWVyLnB1cmdlT3B0aW9ucy5hZ2UpLCh0aGlzLmdldChcImxheWVyLnRpbWVJbmZvLmVuZFRpbWVGaWVsZFwiKXx8dGhpcy5tYXhGZWF0dXJlQWdlKSYmKHRoaXMuX2RvVGltZVB1cmdlPSEwLHRoaXMuX2xhc3RFbmRUaW1lQ2hlY2s9MWUzKk1hdGguY2VpbChEYXRlLm5vdygpLzFlMykpLHRoaXMuZGlzcGxheUNvdW50PXRoaXMuZ2V0KFwibGF5ZXIucHVyZ2VPcHRpb25zLmRpc3BsYXlDb3VudFwiKSx0aGlzLl93YXRjaEhhbmRsZXJzLnB1c2godGhpcy5sYXllci53YXRjaChcInB1cmdlT3B0aW9uc1wiLGZ1bmN0aW9uKGUpe2UuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5Q291bnRcIikmJnRoaXMuc2V0KFwiZGlzcGxheUNvdW50XCIsZS5kaXNwbGF5Q291bnQpLGUuaGFzT3duUHJvcGVydHkoXCJhZ2VcIikmJnRoaXMuc2V0KFwibWF4RmVhdHVyZUFnZVwiLGUuYWdlKX0uYmluZCh0aGlzKSkpfWNhdGNoKHQpe2U9bmV3IGEsdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKGUucHJvbWlzZSksZS5yZWplY3QodCl9ZWxzZSBlPW5ldyBhLHRoaXMuYWRkUmVzb2x2aW5nUHJvbWlzZShlLnByb21pc2UpLGUucmVqZWN0KG5ldyBFcnJvcihcIkEgY29udHJvbGxlciB3aXRoIGEgbGF5ZXIgaXMgcmVxdWlyZWQgZm9yIFN0cmVhbVB1cmdlciBjb25zdHJ1Y3RvclwiKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9mbHVzaFF1ZXVlVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fZmx1c2hRdWV1ZVRpbWVyKSx0aGlzLl9mbHVzaFF1ZXVlVGltZXI9bnVsbCksdGhpcy5fcHJvY2Vzc1F1ZXVlPW51bGwsdGhpcy5fYWZmZWN0ZWRUcmFja0lkcz1udWxsO2Zvcih2YXIgZT0wLHQ9dGhpcy5fd2F0Y2hIYW5kbGVycy5sZW5ndGg7ZTx0O2UrKyl0aGlzLl93YXRjaEhhbmRsZXJzW2VdLnJlbW92ZSgpfSxwcm9wZXJ0aWVzOntncmFwaGljczpudWxsLGNvbnRyb2xsZXI6bnVsbCxpZEZpZWxkOm51bGwsbGF5ZXI6bnVsbCx0cmFja0lkRmllbGQ6bnVsbCxtYXhpbXVtVHJhY2tQb2ludHM6e3NldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1heGltdW1UcmFja1BvaW50czt0IT09ZSYmKHRoaXMuX3NldChcIm1heGltdW1UcmFja1BvaW50c1wiLGUpLHRoaXMuX2RvVHJhY2tQdXJnZSYmKDA9PT10fHwwIT09ZSYmZTx0KSYmdGhpcy5fcHVyZ2VCeVRyYWNrcygpKX19LHBhcmVudEZpZWxkOm51bGwsZGlzcGxheUNvdW50OntzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kaXNwbGF5Q291bnQ7dCE9PWUmJih0aGlzLl9zZXQoXCJkaXNwbGF5Q291bnRcIixlKSxlPHQmJnRoaXMuX3B1cmdlQnlEaXNwbGF5Q291bnQoKSl9fSxtYXhGZWF0dXJlQWdlOnt2YWx1ZTowLHNldDpmdW5jdGlvbihlKXt0aGlzLm1heEZlYXR1cmVBZ2UhPT1lJiYodGhpcy5fc2V0KFwibWF4RmVhdHVyZUFnZVwiLE1hdGguY2VpbCg2ZTQqZSkpLHRoaXMubWF4RmVhdHVyZUFnZT8odGhpcy5fZG9UaW1lUHVyZ2U9ITAsdGhpcy5fbGFzdEVuZFRpbWVDaGVjaz0xZTMqTWF0aC5jZWlsKERhdGUubm93KCkvMWUzKSk6dGhpcy5fZG9UaW1lUHVyZ2U9ITEpfX19LGFkZE1hbnk6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsYSxoLG49dGhpcy5fZmVhdHVyZXNCeVRpbWU7Zm9yKHQ9MCxpPWUubGVuZ3RoO3Q8aTt0KyspYT1udWxsLHM9ZVt0XSx0aGlzLl9kb1RyYWNrUHVyZ2UmJihhPXMuYXR0cmlidXRlc1t0aGlzLnRyYWNrSWRGaWVsZF0sc1t0aGlzLnBhcmVudEZpZWxkXT1hLHRoaXMuX3RyYWNrSWRzLmhhc093blByb3BlcnR5KGEpP3RoaXMuX3RyYWNrSWRzW2FdKz0xOnRoaXMuX3RyYWNrSWRzW2FdPTEsLTE9PT10aGlzLl9hZmZlY3RlZFRyYWNrSWRzLmluZGV4T2YoYSkmJnRoaXMuX2FmZmVjdGVkVHJhY2tJZHMucHVzaChhKSksdGhpcy5fZG9UaW1lUHVyZ2UmJihoPXRoaXMuX2dldEV4cGlyZVRpbWVPZkl0ZW0ocykpJiYocj17aWQ6c1t0aGlzLmlkRmllbGRdfSxudWxsIT09YSYmKHIudHJhY2tJZD1hKSxoPTFlMypNYXRoLmNlaWwoaC8xZTMpLG5baF0/bltoXS5wdXNoKHIpOm5baF09W3JdKSx0aGlzLl9wcm9jZXNzUXVldWUucHVzaChzKTt0aGlzLl9mbHVzaFF1ZXVlVGltZXJ8fCh0aGlzLl9mbHVzaFF1ZXVlVGltZXI9c2V0VGltZW91dCh0aGlzLl9mbHVzaFByb2Nlc3NRdWV1ZS5iaW5kKHRoaXMpLDIwMCkpfSxwdXJnZTpmdW5jdGlvbihlKXt0aGlzLl9kb1RpbWVQdXJnZSYmdGhpcy5fcHVyZ2VCeVRpbWUoKSx0aGlzLl9kb1RyYWNrUHVyZ2UmJnRoaXMuX3B1cmdlQnlUcmFja3MoZSksdGhpcy5fcHVyZ2VCeURpc3BsYXlDb3VudCgpfSxfZmx1c2hQcm9jZXNzUXVldWU6ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuX2ZsdXNoUXVldWVUaW1lciksdGhpcy5fZmx1c2hRdWV1ZVRpbWVyPW51bGwsaS5yZXNvbHZlKHRoaXMuX3Byb2Nlc3NRdWV1ZS5zcGxpY2UoMCkpLnRoZW4oZnVuY3Rpb24oZSl7dGhpcy5ncmFwaGljcy5hZGRNYW55KGUpO3ZhciB0PXRoaXMuX2FmZmVjdGVkVHJhY2tJZHMuc3BsaWNlKDApO3JldHVybiB0aGlzLnB1cmdlKHQpfS5iaW5kKHRoaXMpKX0sX2dldEV4cGlyZVRpbWVPZkl0ZW06ZnVuY3Rpb24oZSl7dmFyIHQsaT10aGlzLmxheWVyLnRpbWVJbmZvfHx7fTtyZXR1cm4gdD1pLmVuZFRpbWVGaWVsZCYmZS5hdHRyaWJ1dGVzW2kuZW5kVGltZUZpZWxkXSwhdCYmdGhpcy5tYXhGZWF0dXJlQWdlJiYodD1pLnN0YXJ0VGltZUZpZWxkJiZlLmF0dHJpYnV0ZXNbaS5zdGFydFRpbWVGaWVsZF0/ZS5hdHRyaWJ1dGVzW2kuc3RhcnRUaW1lRmllbGRdK3RoaXMubWF4RmVhdHVyZUFnZTpEYXRlLm5vdygpK3RoaXMubWF4RmVhdHVyZUFnZSksdH0sX2dldEluZGV4T2ZJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0LGkscz10aGlzLmlkRmllbGQ7cmV0dXJuIHQ9XCJvYmplY3RcIj09dHlwZW9mIGU/ZVtzXTplLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbc109PT10fSx0aGlzLmdyYXBoaWNzLmZpbmRJbmRleChpLHRoaXMpfSxfZ2V0SXRlbXNCeVBhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLnBhcmVudEZpZWxkXT09PWV9O3JldHVybiB0aGlzLmdyYXBoaWNzLmZpbHRlcih0LHRoaXMpfSxfcHJvY2Vzc1JlbW92ZWRUcmFja0ZlYXR1cmVzOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2RvVHJhY2tQdXJnZSYmZSYmZS5sZW5ndGgpZm9yKHZhciB0LGk9MCxzPWUubGVuZ3RoO2k8cztpKyspdD1lW2ldLHRoaXMuX3RyYWNrSWRzW3RdLT0xLDA9PT10aGlzLl90cmFja0lkc1t0XSYmZGVsZXRlIHRoaXMuX3RyYWNrSWRzW3RdfSxfcHVyZ2VCeURpc3BsYXlDb3VudDpmdW5jdGlvbigpe3ZhciBlLHQsaT1bXSxzPXRoaXMuZGlzcGxheUNvdW50O2lmKChlPXRoaXMuZ3JhcGhpY3MubGVuZ3RoLXMpPjApe2Zvcih2YXIgcj0wO3I8ZTtyKyspdGhpcy5fZG9UcmFja1B1cmdlJiYodD10aGlzLmdyYXBoaWNzLmdldEl0ZW1BdCgwKVt0aGlzLnBhcmVudEZpZWxkXSxpLnB1c2godCkpLHRoaXMuZ3JhcGhpY3MucmVtb3ZlQXQoMCk7dGhpcy5fcHJvY2Vzc1JlbW92ZWRUcmFja0ZlYXR1cmVzKGkpfX0sX3B1cmdlQnlUaW1lOmZ1bmN0aW9uKCl7aWYodGhpcy5fZmVhdHVyZXNCeVRpbWUmJjAhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl9mZWF0dXJlc0J5VGltZSkubGVuZ3RoKXt2YXIgZSx0LGkscyxyPXRoaXMubGF5ZXIsYT1yLnRpbWVJbmZvfHx7fSxoPWEuZW5kVGltZUZpZWxkLG49W10sdT1bXTtpZigoaHx8dGhpcy5tYXhGZWF0dXJlQWdlKSYmKGU9MWUzKk1hdGguZmxvb3IodGhpcy5fbGFzdEVuZFRpbWVDaGVjay8xZTMpLHQ9MWUzKk1hdGguY2VpbChEYXRlLm5vdygpLzFlMyksdGhpcy5fbGFzdEVuZFRpbWVDaGVjaz10LGUmJmUhPT10KSl7Zm9yKHM9dGhpcy5fZmVhdHVyZXNCeVRpbWUsaT1lO2k8PXQ7aSs9MWUzKXNbaV0mJihuPW4uY29uY2F0KHNbaV0pLGRlbGV0ZSBzW2ldKTtmb3IodmFyIG89MCxsPW4ubGVuZ3RoO288bDtvKyspe3ZhciBjPW5bb10sZD10aGlzLl9nZXRJbmRleE9mSXRlbShjLmlkKTstMSE9PWQmJih0aGlzLmdyYXBoaWNzLnJlbW92ZUF0KGQpLChjLnRyYWNrSWR8fDA9PT1jLnRyYWNrSWQpJiZ1LnB1c2goYy50cmFja0lkKSl9dGhpcy5fcHJvY2Vzc1JlbW92ZWRUcmFja0ZlYXR1cmVzKHUpfX19LF9wdXJnZUJ5VHJhY2tzOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQsaTtpZih0PXRoaXMuX2dldEl0ZW1zQnlQYXJlbnQoZSksKGk9dC5sZW5ndGgtcyk+MCl7Zm9yKHZhciByPTA7cjxpO3IrKyl0aGlzLl9yZW1vdmVJdGVtRnJvbUNvbGxlY3Rpb24odC5nZXRJdGVtQXQocikpO3RoaXMuX3RyYWNrSWRzW2VdPXN9fWlmKGU9ZXx8W10sdGhpcy5tYXhpbXVtVHJhY2tQb2ludHMpe3ZhciBpLHM9dGhpcy5tYXhpbXVtVHJhY2tQb2ludHM7aWYoZS5sZW5ndGgpZm9yKHZhciByPTAsYT1lLmxlbmd0aDtyPGE7cisrKWk9ZVtyXSx0aGlzLl90cmFja0lkc1tpXT5zJiZ0LmNhbGwodGhpcyxpKTtlbHNle2U9dGhpcy5fdHJhY2tJZHM7Zm9yKGkgaW4gZSllW2ldPnMmJnQuY2FsbCh0aGlzLGkpfX19LF9yZW1vdmVJdGVtRnJvbUNvbGxlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQsaT1lW3RoaXMuaWRGaWVsZF07aWYodm9pZCAwIT09aSlyZXR1cm4gdD10aGlzLl9nZXRJbmRleE9mSXRlbShlKSwtMSE9PXQmJnRoaXMuZ3JhcGhpY3MucmVtb3ZlQXQodCkse2luZGV4OnQsaWQ6aSxwYXJlbnQ6ZVt0aGlzLnBhcmVudEZpZWxkXX19fSl9KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/support/StreamPurger.js\n");

/***/ })

}]);
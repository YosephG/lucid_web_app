(function(){(this||window).webpackJsonp.registerAbsMids({"esri/portal/support/layersLoader":1244,"esri/layers/support/lazyLayerLoader":1333,"esri/portal/support/jsonContext":1601})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1244:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(24),t(9),t(8),t(235),t(1333),t(41),t(1601),t(257)],void 0===(a=function(e,n,t,r,a,o,u,i,c,l){function p(e,n){var t,a,o=e.portalItem.type;switch(o){case"Feature Service":t=u.layerLookupMap.FeatureLayer;break;case"Stream Service":t=u.layerLookupMap.StreamLayer;break;case"Scene Service":t=u.layerLookupMap.SceneLayer;break;case"Feature Collection":t=u.layerLookupMap.FeatureLayer;break;default:throw new r("portal:unsupported-item-type-as-group","The item type '"+o+"' is not supported as a 'GroupLayer'")}return t().then(function(e){return a=e,y(n)}).then(function(t){return t&&Array.isArray(t.layers)?f(e,a,t,n):s(e,a,n)})}function s(e,n,r){if(!e.portalItem.url)return a.resolve();return t(e.portalItem.url,{responseType:"json",callbackParamName:"callback",query:{f:"json"}}).then(function(t){var a=t.data;if(a&&Array.isArray(a.layers)){var o=a.layers.map(function(e){return{id:e.id,name:e.name}});return f(e,n,{layers:o},r)}})}function f(e,n,t,r){var a=t.showLegend,o=t.layers.slice();o.reverse(),o.forEach(function(t){var r=new n({portalItem:e.portalItem,layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var o={origin:"portal-item",portal:e.portalItem.portal||i.getDefault()};r.read(t,o),null!=a&&r.read({showLegend:a},o)}e.add(r)})}function y(e){if(!1===e.supportsData)return a.resolve();var n=e.instance;return n.portalItem.fetchData().catch(function(){return null}).then(function(e){var t,r=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(n)){var a=!0;if(e&&Array.isArray(r.layers)){null==n.layerId&&(n.layerId=r.layers[0].id);for(var o=0;o<r.layers.length;o++)if(r.layers[o].id===n.layerId){t=r.layers[o];break}t&&(1===r.layers.length&&(a=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))}return a&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),t}return e})}Object.defineProperty(n,"__esModule",{value:!0}),n.load=function(e){var n=e.instance.portalItem;return n&&n.id?n.load().then(function(){return function(e){var n=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(n.type))throw new r("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:n.type,expectedType:e.supportedTypes.join(", ")})}(e)}).then(function(){return function(e){var n=e.instance,t=n.portalItem,r=t.url,a=t.title,u=c.createForItem(t);return n.isInstanceOf(o)?(n.read({title:a},u),p(n,e)):(r&&n.read({url:r},u),y(e).then(function(e){return e&&n.read(e,u),n.read({title:a},u),l.loadStyleRenderer(n,u)}))}(e)}):a.resolve()}}.apply(null,r))||(e.exports=a)},1333:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(8)],void 0===(a=function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={CSVLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(245)];e.apply(null,n)}.bind(this)).catch(t.oe)})},ElevationLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(241)];e.apply(null,n)}.bind(this)).catch(t.oe)})},FeatureLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(109)];e.apply(null,n)}.bind(this)).catch(t.oe)})},GroupLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(235)];e.apply(null,n)}.bind(this)).catch(t.oe)})},GeoRSSLayer:function(){return r.create(function(e){return t.e(16).then(function(){var n=[t(1228)];e.apply(null,n)}.bind(this)).catch(t.oe)})},ImageryLayer:function(){return r.create(function(e){return t.e(29).then(function(){var n=[t(1226)];e.apply(null,n)}.bind(this)).catch(t.oe)})},KMLLayer:function(){return r.create(function(e){return t.e(18).then(function(){var n=[t(1229)];e.apply(null,n)}.bind(this)).catch(t.oe)})},MapImageLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(113)];e.apply(null,n)}.bind(this)).catch(t.oe)})},MapNotesLayer:function(){return r.create(function(e){return t.e(47).then(function(){var n=[t(1479)];e.apply(null,n)}.bind(this)).catch(t.oe)})},OpenStreetMapLayer:function(){return r.create(function(e){return t.e(19).then(function(){var n=[t(1230)];e.apply(null,n)}.bind(this)).catch(t.oe)})},PointCloudLayer:function(){return r.create(function(e){return t.e(28).then(function(){var n=[t(1231)];e.apply(null,n)}.bind(this)).catch(t.oe)})},SceneLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(243)];e.apply(null,n)}.bind(this)).catch(t.oe)})},IntegratedMeshLayer:function(){return r.create(function(e){return t.e(17).then(function(){var n=[t(1221)];e.apply(null,n)}.bind(this)).catch(t.oe)})},StreamLayer:function(){return r.create(function(e){return t.e(14).then(function(){var n=[t(1227)];e.apply(null,n)}.bind(this)).catch(t.oe)})},TileLayer:function(){return r.create(function(e){return t.e(48).then(function(){var n=[t(459)];e.apply(null,n)}.bind(this)).catch(t.oe)})},UnknownLayer:function(){return r.create(function(e){return t.e(49).then(function(){var n=[t(1480)];e.apply(null,n)}.bind(this)).catch(t.oe)})},UnsupportedLayer:function(){return r.create(function(e){return t.e(50).then(function(){var n=[t(1481)];e.apply(null,n)}.bind(this)).catch(t.oe)})},VectorTileLayer:function(){return r.create(function(e){return t.e(4).then(function(){var n=[t(1224)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WebTileLayer:function(){return r.create(function(e){return t.e(20).then(function(){var n=[t(1223)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WMSLayer:function(){return r.create(function(e){return t.e(21).then(function(){var n=[t(1232)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WMTSLayer:function(){return r.create(function(e){return t.e(80).then(function(){var n=[t(1482)];e.apply(null,n)}.bind(this)).catch(t.oe)})},BingMapsLayer:function(){return r.create(function(e){return t.e(7).then(function(){var n=[t(244)];e.apply(null,n)}.bind(this)).catch(t.oe)})}}}.apply(null,r))||(e.exports=a)},1601:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(20),t(41)],void 0===(a=function(e,n,t,r){Object.defineProperty(n,"__esModule",{value:!0}),n.createForItem=function(e){return{origin:"portal-item",url:t.urlToObject(e.itemUrl),portal:e.portal||r.getDefault()}}}.apply(null,r))||(e.exports=a)}}]);
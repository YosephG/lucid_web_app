(function(){
(this||window)["webpackJsonp"].registerAbsMids({
	'esri/core/tsSupport/awaiterHelper':"./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js",
	'esri/core/tsSupport/generatorHelper':"./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js",
	'esri/layers/support/ElevationQuery':"./node_modules/arcgis-js-api/layers/support/ElevationQuery.js",
	'esri/layers/support/ElevationTile':"./node_modules/arcgis-js-api/layers/support/ElevationTile.js"
})
})(),(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[53],{

/***/ "./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js":
/*!********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! dojo/Deferred */ \"./node_modules/dojo/Deferred.js\"),__webpack_require__(/*! dojo/when */ \"./node_modules/dojo/when.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,n){function t(t,r,o,c){function u(e){try{i(c.next(e))}catch(e){a.reject(e)}}function f(e){try{i(c.throw(e))}catch(e){a.reject(e)}}function i(e){e.done?n(e.value).then(a.resolve,a.reject):n(e.value).then(u,f)}var a=new e;return i((c=c.apply(t,r||[])).next()),a.promise}return t}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9jb3JlL3RzU3VwcG9ydC9hd2FpdGVySGVscGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyY2dpcy1qcy1hcGkvY29yZS90c1N1cHBvcnQvYXdhaXRlckhlbHBlci5qcz8xZDlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENPUFlSSUdIVCDCqSAyMDE4IEVzcmlcbi8vXG4vLyBBbGwgcmlnaHRzIHJlc2VydmVkIHVuZGVyIHRoZSBjb3B5cmlnaHQgbGF3cyBvZiB0aGUgVW5pdGVkIFN0YXRlc1xuLy8gYW5kIGFwcGxpY2FibGUgaW50ZXJuYXRpb25hbCBsYXdzLCB0cmVhdGllcywgYW5kIGNvbnZlbnRpb25zLlxuLy9cbi8vIFRoaXMgbWF0ZXJpYWwgaXMgbGljZW5zZWQgZm9yIHVzZSB1bmRlciB0aGUgRXNyaSBNYXN0ZXIgTGljZW5zZVxuLy8gQWdyZWVtZW50IChNTEEpLCBhbmQgaXMgYm91bmQgYnkgdGhlIHRlcm1zIG9mIHRoYXQgYWdyZWVtZW50LlxuLy8gWW91IG1heSByZWRpc3RyaWJ1dGUgYW5kIHVzZSB0aGlzIGNvZGUgd2l0aG91dCBtb2RpZmljYXRpb24sXG4vLyBwcm92aWRlZCB5b3UgYWRoZXJlIHRvIHRoZSB0ZXJtcyBvZiB0aGUgTUxBIGFuZCBpbmNsdWRlIHRoaXNcbi8vIGNvcHlyaWdodCBub3RpY2UuXG4vL1xuLy8gU2VlIHVzZSByZXN0cmljdGlvbnMgYXQgaHR0cDovL3d3dy5lc3JpLmNvbS9sZWdhbC9wZGZzL21sYV9lMjA0X2UzMDAvZW5nbGlzaFxuLy9cbi8vIEZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLCBjb250YWN0OlxuLy8gRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuLy8gQXR0bjogQ29udHJhY3RzIGFuZCBMZWdhbCBTZXJ2aWNlcyBEZXBhcnRtZW50XG4vLyAzODAgTmV3IFlvcmsgU3RyZWV0XG4vLyBSZWRsYW5kcywgQ2FsaWZvcm5pYSwgVVNBIDkyMzczXG4vLyBVU0Fcbi8vXG4vLyBlbWFpbDogY29udHJhY3RzQGVzcmkuY29tXG4vL1xuLy8gU2VlIGh0dHA6Ly9qcy5hcmNnaXMuY29tLzQuOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG5cbmRlZmluZShbXCJkb2pvL0RlZmVycmVkXCIsXCJkb2pvL3doZW5cIl0sZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiB0KHQscixvLGMpe2Z1bmN0aW9uIHUoZSl7dHJ5e2koYy5uZXh0KGUpKX1jYXRjaChlKXthLnJlamVjdChlKX19ZnVuY3Rpb24gZihlKXt0cnl7aShjLnRocm93KGUpKX1jYXRjaChlKXthLnJlamVjdChlKX19ZnVuY3Rpb24gaShlKXtlLmRvbmU/bihlLnZhbHVlKS50aGVuKGEucmVzb2x2ZSxhLnJlamVjdCk6bihlLnZhbHVlKS50aGVuKHUsZil9dmFyIGE9bmV3IGU7cmV0dXJuIGkoKGM9Yy5hcHBseSh0LHJ8fFtdKSkubmV4dCgpKSxhLnByb21pc2V9cmV0dXJuIHR9KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js\n");

/***/ }),

/***/ "./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js":
/*!**********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return function(e,n){function r(e){return function(n){return t([e,n])}}function t(r){if(o)throw new TypeError(\"Generator is already executing.\");for(;i;)try{if(o=1,l&&(a=2&r[0]?l.return:r[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,r[1])).done)return a;switch(l=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,l=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=n.call(e,i)}catch(e){r=[6,e],l=0}finally{o=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,l,a,u,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u}}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9jb3JlL3RzU3VwcG9ydC9nZW5lcmF0b3JIZWxwZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9jb3JlL3RzU3VwcG9ydC9nZW5lcmF0b3JIZWxwZXIuanM/NDM2YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDT1BZUklHSFQgwqkgMjAxOCBFc3JpXG4vL1xuLy8gQWxsIHJpZ2h0cyByZXNlcnZlZCB1bmRlciB0aGUgY29weXJpZ2h0IGxhd3Mgb2YgdGhlIFVuaXRlZCBTdGF0ZXNcbi8vIGFuZCBhcHBsaWNhYmxlIGludGVybmF0aW9uYWwgbGF3cywgdHJlYXRpZXMsIGFuZCBjb252ZW50aW9ucy5cbi8vXG4vLyBUaGlzIG1hdGVyaWFsIGlzIGxpY2Vuc2VkIGZvciB1c2UgdW5kZXIgdGhlIEVzcmkgTWFzdGVyIExpY2Vuc2Vcbi8vIEFncmVlbWVudCAoTUxBKSwgYW5kIGlzIGJvdW5kIGJ5IHRoZSB0ZXJtcyBvZiB0aGF0IGFncmVlbWVudC5cbi8vIFlvdSBtYXkgcmVkaXN0cmlidXRlIGFuZCB1c2UgdGhpcyBjb2RlIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuLy8gcHJvdmlkZWQgeW91IGFkaGVyZSB0byB0aGUgdGVybXMgb2YgdGhlIE1MQSBhbmQgaW5jbHVkZSB0aGlzXG4vLyBjb3B5cmlnaHQgbm90aWNlLlxuLy9cbi8vIFNlZSB1c2UgcmVzdHJpY3Rpb25zIGF0IGh0dHA6Ly93d3cuZXNyaS5jb20vbGVnYWwvcGRmcy9tbGFfZTIwNF9lMzAwL2VuZ2xpc2hcbi8vXG4vLyBGb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiwgY29udGFjdDpcbi8vIEVudmlyb25tZW50YWwgU3lzdGVtcyBSZXNlYXJjaCBJbnN0aXR1dGUsIEluYy5cbi8vIEF0dG46IENvbnRyYWN0cyBhbmQgTGVnYWwgU2VydmljZXMgRGVwYXJ0bWVudFxuLy8gMzgwIE5ldyBZb3JrIFN0cmVldFxuLy8gUmVkbGFuZHMsIENhbGlmb3JuaWEsIFVTQSA5MjM3M1xuLy8gVVNBXG4vL1xuLy8gZW1haWw6IGNvbnRyYWN0c0Blc3JpLmNvbVxuLy9cbi8vIFNlZSBodHRwOi8vanMuYXJjZ2lzLmNvbS80LjgvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuXG5kZWZpbmUoW10sZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChbZSxuXSl9fWZ1bmN0aW9uIHQocil7aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO2k7KXRyeXtpZihvPTEsbCYmKGE9MiZyWzBdP2wucmV0dXJuOnJbMF0/bC50aHJvd3x8KChhPWwucmV0dXJuKSYmYS5jYWxsKGwpLDApOmwubmV4dCkmJiEoYT1hLmNhbGwobCxyWzFdKSkuZG9uZSlyZXR1cm4gYTtzd2l0Y2gobD0wLGEmJihyPVsyJnJbMF0sYS52YWx1ZV0pLHJbMF0pe2Nhc2UgMDpjYXNlIDE6YT1yO2JyZWFrO2Nhc2UgNDpyZXR1cm4gaS5sYWJlbCsrLHt2YWx1ZTpyWzFdLGRvbmU6ITF9O2Nhc2UgNTppLmxhYmVsKyssbD1yWzFdLHI9WzBdO2NvbnRpbnVlO2Nhc2UgNzpyPWkub3BzLnBvcCgpLGkudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKGE9aS50cnlzLCEoYT1hLmxlbmd0aD4wJiZhW2EubGVuZ3RoLTFdKSYmKDY9PT1yWzBdfHwyPT09clswXSkpe2k9MDtjb250aW51ZX1pZigzPT09clswXSYmKCFhfHxyWzFdPmFbMF0mJnJbMV08YVszXSkpe2kubGFiZWw9clsxXTticmVha31pZig2PT09clswXSYmaS5sYWJlbDxhWzFdKXtpLmxhYmVsPWFbMV0sYT1yO2JyZWFrfWlmKGEmJmkubGFiZWw8YVsyXSl7aS5sYWJlbD1hWzJdLGkub3BzLnB1c2gocik7YnJlYWt9YVsyXSYmaS5vcHMucG9wKCksaS50cnlzLnBvcCgpO2NvbnRpbnVlfXI9bi5jYWxsKGUsaSl9Y2F0Y2goZSl7cj1bNixlXSxsPTB9ZmluYWxseXtvPWE9MH1pZig1JnJbMF0pdGhyb3cgclsxXTtyZXR1cm57dmFsdWU6clswXT9yWzFdOnZvaWQgMCxkb25lOiEwfX12YXIgbyxsLGEsdSxpPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJmFbMF0pdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiB1PXtuZXh0OnIoMCksdGhyb3c6cigxKSxyZXR1cm46cigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYodVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx1fX0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js\n");

/***/ }),

/***/ "./node_modules/arcgis-js-api/layers/support/ElevationQuery.js":
/*!*********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/support/ElevationQuery.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports,__webpack_require__(/*! ../../core/tsSupport/assignHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/assignHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/awaiterHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/awaiterHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/extendsHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/extendsHelper.js\"),__webpack_require__(/*! ../../core/tsSupport/generatorHelper */ \"./node_modules/arcgis-js-api/core/tsSupport/generatorHelper.js\"),__webpack_require__(/*! dojo/promise/all */ \"./node_modules/dojo/promise/all.js\"),__webpack_require__(/*! ../../core/arrayUtils */ \"./node_modules/arcgis-js-api/core/arrayUtils.js\"),__webpack_require__(/*! ../../core/Error */ \"./node_modules/arcgis-js-api/core/Error.js\"),__webpack_require__(/*! ../../core/promiseUtils */ \"./node_modules/arcgis-js-api/core/promiseUtils.js\"),__webpack_require__(/*! ../../geometry/Multipoint */ \"./node_modules/arcgis-js-api/geometry/Multipoint.js\"),__webpack_require__(/*! ../../geometry/Point */ \"./node_modules/arcgis-js-api/geometry/Point.js\"),__webpack_require__(/*! ../../geometry/Polyline */ \"./node_modules/arcgis-js-api/geometry/Polyline.js\"),__webpack_require__(/*! ../../geometry/support/aaBoundingRect */ \"./node_modules/arcgis-js-api/geometry/support/aaBoundingRect.js\"),__webpack_require__(/*! ../../geometry/support/scaleUtils */ \"./node_modules/arcgis-js-api/geometry/support/scaleUtils.js\"),__webpack_require__(/*! ../../geometry/support/webMercatorUtils */ \"./node_modules/arcgis-js-api/geometry/support/webMercatorUtils.js\"),__webpack_require__(/*! ./ElevationSampler */ \"./node_modules/arcgis-js-api/layers/support/ElevationSampler.js\"),__webpack_require__(/*! ./ElevationTile */ \"./node_modules/arcgis-js-api/layers/support/ElevationTile.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(e,t,n,i,r,o,l,a,s,u,c,p,f,h,v,d,m,y){function T(e,t){var n=e.lods.length-1;if(t>0){var i=a.findIndex(e.lods,function(e){return e.resolution<t});0===i?n=0:i>0&&(n=i-1)}return n}Object.defineProperty(t,\"__esModule\",{value:!0});var g=function(){function e(){}return e.prototype.queryAll=function(e,t,r){return i(this,void 0,void 0,function(){var i,l,a,c,p;return o(this,function(o){switch(o.label){case 0:return e=r&&r.ignoreInvisibleLayers?e.filter(function(e){return e.visible}):e.slice(),e.length?(i=x.fromGeometry(t),l=!1,r&&r.returnSampleInfo||(l=!0),a=n({noDataValue:0,maximumAutoTileRequests:20},r,{returnSampleInfo:!0,demResolution:\"auto\"}),[4,this.query(e[e.length-1],i,a)]):[2,u.reject(new s(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\"))];case 1:return c=o.sent(),[4,this._queryAllContinue(e,c,a)];case 2:return p=o.sent(),p.geometry=p.geometry.export(),l&&delete p.sampleInfo,[2,p]}})})},e.prototype.query=function(e,t,r){return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return e?t&&(t instanceof x||\"point\"===t.type||\"multipoint\"===t.type||\"polyline\"===t.type)?(r=n({noDataValue:0,demResolution:\"auto\",minDemResolution:0,maximumAutoTileRequests:20,returnSampleInfo:!1},r),i=new w(e,t.spatialReference,r),[4,e.load()]):[2,u.reject(new s(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\"))]:[2,u.reject(new s(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\"))];case 1:return o.sent(),this._createGeometryDescriptor(i,t),[4,this._selectTiles(i)];case 2:return o.sent(),[4,this._populateElevationTiles(i)];case 3:return o.sent(),this._sampleGeometryWithElevation(i),[2,this._createQueryResult(i)]}})})},e.prototype.createSampler=function(e,t,r){return i(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return e?t&&\"extent\"===t.type?(r=n({noDataValue:0,demResolution:\"auto\",maximumAutoTileRequests:20,returnSampleInfo:!1},r),[4,this._createSampler(e,t,r)]):[2,u.reject(new s(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\"))]:[2,u.reject(new s(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\"))];case 1:return[2,i.sent()]}})})},e.prototype.createSamplerAll=function(e,t,r){return i(this,void 0,void 0,function(){var i,l,a;return o(this,function(o){switch(o.label){case 0:return e=r&&r.ignoreInvisibleLayers?e.filter(function(e){return e.visible}):e.slice(),e.length?t&&\"extent\"===t.type?(i=n({noDataValue:0,maximumAutoTileRequests:20},r,{returnSampleInfo:!0,demResolution:\"auto\"}),[4,this._createSampler(e[e.length-1],t,i)]):[2,u.reject(new s(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\"))]:[2,u.reject(new s(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\"))];case 1:return l=o.sent(),[4,this._createSamplerAllContinue(e,t,l,i)];case 2:return a=o.sent(),[2,a]}})})},e.prototype._createSampler=function(e,t,n,r){return i(this,void 0,void 0,function(){var i,l,a;return o(this,function(o){switch(o.label){case 0:return[4,e.load()];case 1:if(o.sent(),i=t.spatialReference,l=e.tileInfo.spatialReference,!i.equals(l)){if(!d.canProject(i,l))return[2,u.reject(new s(\"elevation-query:invalid-extent\",\"Extent spatial reference (\"+i.wkid+\") must be compatible with tile spatial reference (\"+l.wkid+\")\"))];t=d.project(t,l)}return a=new E(e,t,n,r),[4,this._selectTiles(a)];case 2:return o.sent(),[4,this._populateElevationTiles(a)];case 3:return o.sent(),[2,new m.MultiTileElevationSampler(a.elevationTiles,a.layer.tileInfo)]}})})},e.prototype._createSamplerAllContinue=function(e,t,n,r){return i(this,void 0,void 0,function(){var i,l,a,s;return o(this,function(o){switch(o.label){case 0:return e.pop(),e.length?(i=n.samplers.map(function(e){return h.fromExtent(e.extent)}),[4,this._createSampler(e[e.length-1],t,r,i)]):[2,n];case 1:return l=o.sent(),0===l.samplers.length?[2,n]:(a=n.samplers.concat(l.samplers),s=new m.MultiTileElevationSampler(a),[4,this._createSamplerAllContinue(e,t,s,r)]);case 2:return[2,o.sent()]}})})},e.prototype._queryAllContinue=function(e,t,n){return i(this,void 0,void 0,function(){var i,r,l,a,s,u,c;return o(this,function(o){switch(o.label){case 0:if(i=e.pop(),t.geometry.coordinates.forEach(function(e,n){t.sampleInfo[n].demResolution>=0&&!t.sampleInfo[n].source&&(t.sampleInfo[n].source=i)}),!e.length)return[2,t];for(r=t.geometry.coordinates,l=[],a=[],s=0;s<r.length;s++)t.sampleInfo[s].demResolution<0&&(l.push(r[s]),a.push(s));return 0===l.length?[2,t]:(u=t.geometry.clone(l),[4,this.query(e[e.length-1],u,n)]);case 1:return c=o.sent(),a.forEach(function(e,n){r[e].z=c.geometry.coordinates[n].z,t.sampleInfo[e].demResolution=c.sampleInfo[n].demResolution}),[4,this._queryAllContinue(e,t,n)];case 2:return[2,o.sent()]}})})},e.prototype._createQueryResult=function(e){var t;t=e.outSpatialReference.equals(e.geometry.spatialReference)?e.geometry:e.geometry.project(e.outSpatialReference);var n={geometry:t.export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(n.sampleInfo=this._extractSampleInfo(e)),e.geometry.coordinates.forEach(function(e){e.tile=null,e.elevationTile=null}),n},e.prototype._createGeometryDescriptor=function(e,t){var n,i=e.layer.tileInfo.spatialReference;if(!(n=t instanceof x?t.project(i):d.project(t,i)))throw new s(\"elevation-query:spatial-reference-mismatch\",\"Cannot query elevation in '\"+t.spatialReference.wkid+\"' on an elevation service in '\"+i.wkid+\"'\");e.geometry=x.fromGeometry(n)},e.prototype._selectTiles=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return t=e.options.demResolution,(\"geometry\"===e.type&&this._preselectOutsideLayerExtent(e),\"number\"!=typeof t)?[3,1]:(this._selectTilesClosestResolution(e),[3,6]);case 1:return\"finest-contiguous\"!==t?[3,3]:[4,this._selectTilesFinestContiguous(e)];case 2:return n.sent(),[3,6];case 3:return\"auto\"!==t?[3,5]:[4,this._selectTilesAuto(e)];case 4:return n.sent(),[3,6];case 5:throw new s(\"elevation-query:invalid-dem-resolution\",\"Invalid dem resolution value '\"+t+'\\', expected a number, \"finest-contiguous\" or \"auto\"');case 6:return[2]}})})},e.prototype._preselectOutsideLayerExtent=function(e){var t=new y.ElevationTile(null);t.sample=function(t,n){return e.options.noDataValue},e.outsideExtentTile=t;var n=e.layer.fullExtent;e.geometry.coordinates.forEach(function(e){var i=e.x,r=e.y;(i<n.xmin||i>n.xmax||r<n.ymin||r>n.ymax)&&(e.elevationTile=t)})},e.prototype._selectTilesClosestResolution=function(e){var t=e.layer.tileInfo,n=this._findNearestDemResolutionLODIndex(t,e.options.demResolution);e.selectTilesAtLOD(n)},e.prototype._findNearestDemResolutionLODIndex=function(e,t){for(var n=v.getMetersPerUnitForSR(e.spatialReference),i=t/n,r=e.lods[0],o=0,l=1;l<e.lods.length;l++){var a=e.lods[l];Math.abs(a.resolution-i)<Math.abs(r.resolution-i)&&(r=a,o=l)}return o},e.prototype._selectTilesFinestContiguous=function(e){return i(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return t=T(e.layer.tileInfo,e.options.minDemResolution),[4,this._selectTilesFinestContiguousAt(e,t)];case 1:return n.sent(),[2]}})})},e.prototype._selectTilesFinestContiguousAt=function(e,t){return i(this,void 0,void 0,function(){var n,i,r,a;return o(this,function(o){switch(o.label){case 0:if(n=e.layer,e.selectTilesAtLOD(t),t<0)return[2];i=n.tilemapCache,r=e.getTilesToFetch(),o.label=1;case 1:return o.trys.push([1,6,,8]),i?[4,l(r.map(function(e){return i.fetchAvailability(e.level,e.row,e.col)}))]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,this._populateElevationTiles(e)];case 4:if(o.sent(),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new s(\"elevation-query:has-unavailable-tiles\");o.label=5;case 5:return[3,8];case 6:return a=o.sent(),[4,this._selectTilesFinestContiguousAt(e,t-1)];case 7:return o.sent(),[3,8];case 8:return[2]}})})},e.prototype._populateElevationTiles=function(e){return i(this,void 0,void 0,function(){var t,n,i,r;return o(this,function(o){switch(o.label){case 0:return t=e.options.noDataValue,n=e.getTilesToFetch(),i={},r=n.map(function(n){return e.layer.fetchTile(n.level,n.row,n.col,t).then(function(e){return i[n.id]=new y.ElevationTile(n,e)})}),[4,u.eachAlways(r)];case 1:return o.sent(),e.populateElevationTiles(i),[2]}})})},e.prototype._selectTilesAuto=function(e){return i(this,void 0,void 0,function(){var t,n,r,a,s=this;return o(this,function(u){switch(u.label){case 0:return this._selectTilesAutoFinest(e),(this._reduceTilesForMaximumRequests(e),t=e.layer.tilemapCache)?(n=e.getTilesToFetch(),r={},a=n.map(function(e){return i(s,void 0,void 0,function(){var n,i;return o(this,function(o){switch(o.label){case 0:n={id:null,level:0,row:0,col:0,extent:h.create()},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.fetchAvailabilityUpsample(e.level,e.row,e.col,n)];case 2:return o.sent(),r[e.id]=n,[3,4];case 3:return i=o.sent(),[3,4];case 4:return[2]}})})}),[4,l(a)]):[3,2];case 1:return u.sent(),e.remapTiles(r),[3,3];case 2:return[2,this._selectTilesAutoPrefetchUpsample(e)];case 3:return[2]}})})},e.prototype._reduceTilesForMaximumRequests=function(e){var t=e.layer.tileInfo,n=0,i={},r=function(e){e.id in i?i[e.id]++:(i[e.id]=1,n++)},o=function(e){var t=i[e.id];1===t?(delete i[e.id],n--):i[e.id]=t-1};e.forEachTileToFetch(r,o);for(var l=!0;l&&(l=!1,e.forEachTileToFetch(function(i){n<=e.options.maximumAutoTileRequests||(o(i),t.upsampleTile(i)&&(l=!0),r(i))},o),l););},e.prototype._selectTilesAutoFinest=function(e){var t=T(e.layer.tileInfo,e.options.minDemResolution);e.selectTilesAtLOD(t,e.options.maximumAutoTileRequests)},e.prototype._selectTilesAutoPrefetchUpsample=function(e){return i(this,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:return t=e.layer.tileInfo,[4,this._populateElevationTiles(e)];case 1:return i.sent(),n=!1,e.forEachTileToFetch(function(e,i){t.upsampleTile(e)?n=!0:i()}),n?[4,this._selectTilesAutoPrefetchUpsample(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype._sampleGeometryWithElevation=function(e){e.geometry.coordinates.forEach(function(t){var n=t.elevationTile,i=e.options.noDataValue;if(n){var r=n.sample(t.x,t.y);void 0!==r?i=r:t.elevationTile=null}t.z=i})},e.prototype._extractSampleInfo=function(e){var t=e.layer.tileInfo,n=v.getMetersPerUnitForSR(t.spatialReference);return e.geometry.coordinates.map(function(i){var r=-1;if(i.elevationTile&&i.elevationTile!==e.outsideExtentTile){r=t.lodAt(i.elevationTile.tile.level).resolution*n}return{demResolution:r}})},e}();t.ElevationQuery=g;var x=function(){function e(){}return e.prototype.export=function(){return this._exporter(this.coordinates,this.spatialReference)},e.prototype.clone=function(t){var n=this,i=new e;return i.geometry=this.geometry,i.spatialReference=this.spatialReference,i.coordinates=t||this.coordinates.map(function(e){return n._cloneCoordinate(e)}),i._exporter=this._exporter,i},e.prototype.project=function(e){var t=this;if(this.spatialReference.equals(e))return this.clone();if(d.canProject(this.spatialReference,e)){var n=e.isWGS84?d.xyToLngLat:d.lngLatToXY,i=[0,0],r=this.coordinates.map(function(e){var r=t._cloneCoordinate(e);return n(r.x,r.y,i),r.x=i[0],r.y=i[1],r}),o=this.clone(r);return o.spatialReference=e,o}return null},e.prototype._cloneCoordinate=function(e){return{x:e.x,y:e.y,z:e.z,tile:null,elevationTile:null}},e.fromGeometry=function(t){var n=new e;if(n.geometry=t,n.spatialReference=t.spatialReference,t instanceof e)n.coordinates=t.coordinates.map(function(e){return n._cloneCoordinate(e)}),n._exporter=function(e,n){var i=t.clone(e);return i.spatialReference=n,i};else switch(t.type){case\"point\":var i=t;t.hasM?n.coordinates=[{x:i.x,y:i.y,m:i.m}]:n.coordinates=[{x:i.x,y:i.y}],n._exporter=function(e,n){return t.hasM?new p(e[0].x,e[0].y,e[0].z,e[0].m,n):new p(e[0].x,e[0].y,e[0].z,n)};break;case\"multipoint\":var r=t;n.coordinates=r.points.map(function(e){if(t.hasM){var n=t.hasZ?3:2;return{x:e[0],y:e[1],m:e[n]}}return{x:e[0],y:e[1]}}),n._exporter=function(e,n){return t.hasM?new c({points:e.map(function(e){return[e.x,e.y,e.z,e.m]}),hasZ:!0,hasM:!0,spatiaReference:n}):new c(e.map(function(e){return[e.x,e.y,e.z]}),n)};break;case\"polyline\":var o=t,l=[],a=[],s=0;o.paths.forEach(function(e){a.push([s,s+e.length]),s+=e.length,l.push.apply(l,e.map(function(e){if(t.hasM){var n=t.hasZ?3:2;return{x:e[0],y:e[1],m:e[n]}}return{x:e[0],y:e[1]}}))}),n.coordinates=l,n._exporter=function(e,n){var i=t.hasM?e.map(function(e){return[e.x,e.y,e.z,e.m]}):e.map(function(e){return[e.x,e.y,e.z]}),r=a.map(function(e){return i.slice(e[0],e[1])});return new f({paths:r,hasM:t.hasM,hasZ:!0,spatialReference:n})}}return n},e}();t.GeometryDescriptor=x;var _=function(){function e(e,t){this.layer=e,this.options=t}return e}(),w=function(e){function t(t,n,i){var r=e.call(this,t,i)||this;return r.type=\"geometry\",r.outSpatialReference=n,r}return r(t,e),t.prototype.selectTilesAtLOD=function(e,t){if(e<0)this.geometry.coordinates.forEach(function(e){return e.tile=null});else{var n=this.layer.tileInfo,i=n.lods[e].level;this.geometry.coordinates.forEach(function(e){e.tile=n.tileAt(i,e.x,e.y)})}},t.prototype.allElevationTilesFetched=function(){return!this.geometry.coordinates.some(function(e){return!e.elevationTile})},t.prototype.clearElevationTiles=function(){for(var e=0,t=this.geometry.coordinates;e<t.length;e++){var n=t[e];n.elevationTile!==this.outsideExtentTile&&(n.elevationTile=null)}},t.prototype.populateElevationTiles=function(e){for(var t=0,n=this.geometry.coordinates;t<n.length;t++){var i=n[t];!i.elevationTile&&i.tile&&(i.elevationTile=e[i.tile.id])}},t.prototype.remapTiles=function(e){for(var t=0,n=this.geometry.coordinates;t<n.length;t++){var i=n[t];i.tile=e[i.tile.id]}},t.prototype.getTilesToFetch=function(){for(var e={},t=[],n=0,i=this.geometry.coordinates;n<i.length;n++){var r=i[n],o=r.tile;r.elevationTile||!r.tile||e[o.id]||(e[o.id]=o,t.push(o))}return t},t.prototype.forEachTileToFetch=function(e,t){for(var n=0,i=this.geometry.coordinates;n<i.length;n++){var r=i[n];!function(t){t.tile&&!t.elevationTile&&e(t.tile,function(){return t.tile=null})}(r)}},t}(_),E=function(e){function t(t,n,i,r){var o=e.call(this,t,i)||this;return o.type=\"extent\",o.elevationTiles=[],o.candidateTiles=[],o.fetchedCandidates=new Set,o.extent=n.intersection(t.fullExtent),o.maskExtents=r,o}return r(t,e),t.prototype.selectTilesAtLOD=function(e,t){var n=this._maximumLodForRequests(t),i=Math.min(n,e);i<0?this.candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(i)},t.prototype._maximumLodForRequests=function(e){var t=this.layer.tileInfo;if(!e)return t.lods.length-1;for(var n=this.extent,i=t.lods.length-1;i>=0;i--){var r=t.lods[i],o=r.resolution*t.size[0],l=r.resolution*t.size[1];if(Math.ceil(n.width/o)*Math.ceil(n.height/l)<=e)return i}return-1},t.prototype.allElevationTilesFetched=function(){return this.candidateTiles.length===this.elevationTiles.length},t.prototype.clearElevationTiles=function(){this.elevationTiles.length=0,this.fetchedCandidates.clear()},t.prototype.populateElevationTiles=function(e){for(var t=0,n=this.candidateTiles;t<n.length;t++){var i=n[t],r=e[i.id];r&&(this.fetchedCandidates.add(i),this.elevationTiles.push(r))}},t.prototype.remapTiles=function(e){this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles.map(function(t){return e[t.id]}))},t.prototype.getTilesToFetch=function(){return this.candidateTiles},t.prototype.forEachTileToFetch=function(e,t){var n=this,i=this.candidateTiles;this.candidateTiles=[],i.forEach(function(i){if(n.fetchedCandidates.has(i))return void(t&&t(i));var r=!1;e(i,function(){return r=!0}),r?t&&t(i):n.candidateTiles.push(i)}),this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles,t)},t.prototype._uniqueNonOverlappingTiles=function(e,t){for(var n={},i=[],r=0,o=e;r<o.length;r++){var l=o[r];n[l.id]?t&&t(l):(n[l.id]=l,i.push(l))}var a=i.sort(function(e,t){return e.level-t.level});return a.filter(function(e,n){for(var i=0;i<n;i++)if(h.contains(a[i].extent,e.extent))return t&&t(e),!1;return!0})},t.prototype._selectCandidateTilesCoveringExtentAt=function(e){this.candidateTiles.length=0;for(var t=this.layer.tileInfo,n=t.lods[e],i=this.extent,r=t.tileAt(n.level,i.xmin,i.ymin),o=n.resolution*t.size[0],l=n.resolution*t.size[1],a=Math.ceil((i.xmax-r.extent[0])/o),s=Math.ceil((i.ymax-r.extent[1])/l),u=0;u<s;u++)for(var c=0;c<a;c++){var p={id:null,level:r.level,row:r.row-u,col:r.col+c};t.updateTileInfo(p),this._tileIsMasked(p)||this.candidateTiles.push(p)}},t.prototype._tileIsMasked=function(e){return!!this.maskExtents&&this.maskExtents.some(function(t){return h.contains(t,e.extent)})},t}(_);t.getFinestLodIndex=T,t.default=g}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9FbGV2YXRpb25RdWVyeS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcmNnaXMtanMtYXBpL2xheWVycy9zdXBwb3J0L0VsZXZhdGlvblF1ZXJ5LmpzPzRmNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ09QWVJJR0hUIMKpIDIwMTggRXNyaVxuLy9cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQgdW5kZXIgdGhlIGNvcHlyaWdodCBsYXdzIG9mIHRoZSBVbml0ZWQgU3RhdGVzXG4vLyBhbmQgYXBwbGljYWJsZSBpbnRlcm5hdGlvbmFsIGxhd3MsIHRyZWF0aWVzLCBhbmQgY29udmVudGlvbnMuXG4vL1xuLy8gVGhpcyBtYXRlcmlhbCBpcyBsaWNlbnNlZCBmb3IgdXNlIHVuZGVyIHRoZSBFc3JpIE1hc3RlciBMaWNlbnNlXG4vLyBBZ3JlZW1lbnQgKE1MQSksIGFuZCBpcyBib3VuZCBieSB0aGUgdGVybXMgb2YgdGhhdCBhZ3JlZW1lbnQuXG4vLyBZb3UgbWF5IHJlZGlzdHJpYnV0ZSBhbmQgdXNlIHRoaXMgY29kZSB3aXRob3V0IG1vZGlmaWNhdGlvbixcbi8vIHByb3ZpZGVkIHlvdSBhZGhlcmUgdG8gdGhlIHRlcm1zIG9mIHRoZSBNTEEgYW5kIGluY2x1ZGUgdGhpc1xuLy8gY29weXJpZ2h0IG5vdGljZS5cbi8vXG4vLyBTZWUgdXNlIHJlc3RyaWN0aW9ucyBhdCBodHRwOi8vd3d3LmVzcmkuY29tL2xlZ2FsL3BkZnMvbWxhX2UyMDRfZTMwMC9lbmdsaXNoXG4vL1xuLy8gRm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24sIGNvbnRhY3Q6XG4vLyBFbnZpcm9ubWVudGFsIFN5c3RlbXMgUmVzZWFyY2ggSW5zdGl0dXRlLCBJbmMuXG4vLyBBdHRuOiBDb250cmFjdHMgYW5kIExlZ2FsIFNlcnZpY2VzIERlcGFydG1lbnRcbi8vIDM4MCBOZXcgWW9yayBTdHJlZXRcbi8vIFJlZGxhbmRzLCBDYWxpZm9ybmlhLCBVU0EgOTIzNzNcbi8vIFVTQVxuLy9cbi8vIGVtYWlsOiBjb250cmFjdHNAZXNyaS5jb21cbi8vXG4vLyBTZWUgaHR0cDovL2pzLmFyY2dpcy5jb20vNC44L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cblxuZGVmaW5lKFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIi4uLy4uL2NvcmUvdHNTdXBwb3J0L2Fzc2lnbkhlbHBlclwiLFwiLi4vLi4vY29yZS90c1N1cHBvcnQvYXdhaXRlckhlbHBlclwiLFwiLi4vLi4vY29yZS90c1N1cHBvcnQvZXh0ZW5kc0hlbHBlclwiLFwiLi4vLi4vY29yZS90c1N1cHBvcnQvZ2VuZXJhdG9ySGVscGVyXCIsXCJkb2pvL3Byb21pc2UvYWxsXCIsXCIuLi8uLi9jb3JlL2FycmF5VXRpbHNcIixcIi4uLy4uL2NvcmUvRXJyb3JcIixcIi4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzXCIsXCIuLi8uLi9nZW9tZXRyeS9NdWx0aXBvaW50XCIsXCIuLi8uLi9nZW9tZXRyeS9Qb2ludFwiLFwiLi4vLi4vZ2VvbWV0cnkvUG9seWxpbmVcIixcIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3RcIixcIi4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc2NhbGVVdGlsc1wiLFwiLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC93ZWJNZXJjYXRvclV0aWxzXCIsXCIuL0VsZXZhdGlvblNhbXBsZXJcIixcIi4vRWxldmF0aW9uVGlsZVwiXSxmdW5jdGlvbihlLHQsbixpLHIsbyxsLGEscyx1LGMscCxmLGgsdixkLG0seSl7ZnVuY3Rpb24gVChlLHQpe3ZhciBuPWUubG9kcy5sZW5ndGgtMTtpZih0PjApe3ZhciBpPWEuZmluZEluZGV4KGUubG9kcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNvbHV0aW9uPHR9KTswPT09aT9uPTA6aT4wJiYobj1pLTEpfXJldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUucXVlcnlBbGw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpLGwsYSxjLHA7cmV0dXJuIG8odGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXImJnIuaWdub3JlSW52aXNpYmxlTGF5ZXJzP2UuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZpc2libGV9KTplLnNsaWNlKCksZS5sZW5ndGg/KGk9eC5mcm9tR2VvbWV0cnkodCksbD0hMSxyJiZyLnJldHVyblNhbXBsZUluZm98fChsPSEwKSxhPW4oe25vRGF0YVZhbHVlOjAsbWF4aW11bUF1dG9UaWxlUmVxdWVzdHM6MjB9LHIse3JldHVyblNhbXBsZUluZm86ITAsZGVtUmVzb2x1dGlvbjpcImF1dG9cIn0pLFs0LHRoaXMucXVlcnkoZVtlLmxlbmd0aC0xXSxpLGEpXSk6WzIsdS5yZWplY3QobmV3IHMoXCJlbGV2YXRpb24tcXVlcnk6aW52YWxpZC1sYXllclwiLFwiRWxldmF0aW9uIHF1ZXJpZXMgcmVxdWlyZSBhdCBsZWFzdCBvbmUgZWxldmF0aW9uIGxheWVyIHRvIGZldGNoIHRpbGVzIGZyb21cIikpXTtjYXNlIDE6cmV0dXJuIGM9by5zZW50KCksWzQsdGhpcy5fcXVlcnlBbGxDb250aW51ZShlLGMsYSldO2Nhc2UgMjpyZXR1cm4gcD1vLnNlbnQoKSxwLmdlb21ldHJ5PXAuZ2VvbWV0cnkuZXhwb3J0KCksbCYmZGVsZXRlIHAuc2FtcGxlSW5mbyxbMixwXX19KX0pfSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGk7cmV0dXJuIG8odGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBlP3QmJih0IGluc3RhbmNlb2YgeHx8XCJwb2ludFwiPT09dC50eXBlfHxcIm11bHRpcG9pbnRcIj09PXQudHlwZXx8XCJwb2x5bGluZVwiPT09dC50eXBlKT8ocj1uKHtub0RhdGFWYWx1ZTowLGRlbVJlc29sdXRpb246XCJhdXRvXCIsbWluRGVtUmVzb2x1dGlvbjowLG1heGltdW1BdXRvVGlsZVJlcXVlc3RzOjIwLHJldHVyblNhbXBsZUluZm86ITF9LHIpLGk9bmV3IHcoZSx0LnNwYXRpYWxSZWZlcmVuY2UsciksWzQsZS5sb2FkKCldKTpbMix1LnJlamVjdChuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTppbnZhbGlkLWdlb21ldHJ5XCIsXCJPbmx5IHBvaW50LCBwb2x5bGluZSBhbmQgbXVsdGlwb2ludCBnZW9tZXRyaWVzIGNhbiBiZSB1c2VkIHRvIHF1ZXJ5IGVsZXZhdGlvblwiKSldOlsyLHUucmVqZWN0KG5ldyBzKFwiZWxldmF0aW9uLXF1ZXJ5OmludmFsaWQtbGF5ZXJcIixcIkVsZXZhdGlvbiBxdWVyaWVzIHJlcXVpcmUgYW4gZWxldmF0aW9uIGxheWVyIHRvIGZldGNoIHRpbGVzIGZyb21cIikpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLHRoaXMuX2NyZWF0ZUdlb21ldHJ5RGVzY3JpcHRvcihpLHQpLFs0LHRoaXMuX3NlbGVjdFRpbGVzKGkpXTtjYXNlIDI6cmV0dXJuIG8uc2VudCgpLFs0LHRoaXMuX3BvcHVsYXRlRWxldmF0aW9uVGlsZXMoaSldO2Nhc2UgMzpyZXR1cm4gby5zZW50KCksdGhpcy5fc2FtcGxlR2VvbWV0cnlXaXRoRWxldmF0aW9uKGkpLFsyLHRoaXMuX2NyZWF0ZVF1ZXJ5UmVzdWx0KGkpXX19KX0pfSxlLnByb3RvdHlwZS5jcmVhdGVTYW1wbGVyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU/dCYmXCJleHRlbnRcIj09PXQudHlwZT8ocj1uKHtub0RhdGFWYWx1ZTowLGRlbVJlc29sdXRpb246XCJhdXRvXCIsbWF4aW11bUF1dG9UaWxlUmVxdWVzdHM6MjAscmV0dXJuU2FtcGxlSW5mbzohMX0sciksWzQsdGhpcy5fY3JlYXRlU2FtcGxlcihlLHQscildKTpbMix1LnJlamVjdChuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTppbnZhbGlkLWV4dGVudFwiLFwiSW52YWxpZCBvciB1bmRlZmluZWQgZXh0ZW50XCIpKV06WzIsdS5yZWplY3QobmV3IHMoXCJlbGV2YXRpb24tcXVlcnk6aW52YWxpZC1sYXllclwiLFwiRWxldmF0aW9uIHF1ZXJpZXMgcmVxdWlyZSBhbiBlbGV2YXRpb24gbGF5ZXIgdG8gZmV0Y2ggdGlsZXMgZnJvbVwiKSldO2Nhc2UgMTpyZXR1cm5bMixpLnNlbnQoKV19fSl9KX0sZS5wcm90b3R5cGUuY3JlYXRlU2FtcGxlckFsbD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGksbCxhO3JldHVybiBvKHRoaXMsZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1yJiZyLmlnbm9yZUludmlzaWJsZUxheWVycz9lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS52aXNpYmxlfSk6ZS5zbGljZSgpLGUubGVuZ3RoP3QmJlwiZXh0ZW50XCI9PT10LnR5cGU/KGk9bih7bm9EYXRhVmFsdWU6MCxtYXhpbXVtQXV0b1RpbGVSZXF1ZXN0czoyMH0scix7cmV0dXJuU2FtcGxlSW5mbzohMCxkZW1SZXNvbHV0aW9uOlwiYXV0b1wifSksWzQsdGhpcy5fY3JlYXRlU2FtcGxlcihlW2UubGVuZ3RoLTFdLHQsaSldKTpbMix1LnJlamVjdChuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTppbnZhbGlkLWV4dGVudFwiLFwiSW52YWxpZCBvciB1bmRlZmluZWQgZXh0ZW50XCIpKV06WzIsdS5yZWplY3QobmV3IHMoXCJlbGV2YXRpb24tcXVlcnk6aW52YWxpZC1sYXllclwiLFwiRWxldmF0aW9uIHF1ZXJpZXMgcmVxdWlyZSBhdCBsZWFzdCBvbmUgZWxldmF0aW9uIGxheWVyIHRvIGZldGNoIHRpbGVzIGZyb21cIikpXTtjYXNlIDE6cmV0dXJuIGw9by5zZW50KCksWzQsdGhpcy5fY3JlYXRlU2FtcGxlckFsbENvbnRpbnVlKGUsdCxsLGkpXTtjYXNlIDI6cmV0dXJuIGE9by5zZW50KCksWzIsYV19fSl9KX0sZS5wcm90b3R5cGUuX2NyZWF0ZVNhbXBsZXI9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGksbCxhO3JldHVybiBvKHRoaXMsZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxlLmxvYWQoKV07Y2FzZSAxOmlmKG8uc2VudCgpLGk9dC5zcGF0aWFsUmVmZXJlbmNlLGw9ZS50aWxlSW5mby5zcGF0aWFsUmVmZXJlbmNlLCFpLmVxdWFscyhsKSl7aWYoIWQuY2FuUHJvamVjdChpLGwpKXJldHVyblsyLHUucmVqZWN0KG5ldyBzKFwiZWxldmF0aW9uLXF1ZXJ5OmludmFsaWQtZXh0ZW50XCIsXCJFeHRlbnQgc3BhdGlhbCByZWZlcmVuY2UgKFwiK2kud2tpZCtcIikgbXVzdCBiZSBjb21wYXRpYmxlIHdpdGggdGlsZSBzcGF0aWFsIHJlZmVyZW5jZSAoXCIrbC53a2lkK1wiKVwiKSldO3Q9ZC5wcm9qZWN0KHQsbCl9cmV0dXJuIGE9bmV3IEUoZSx0LG4sciksWzQsdGhpcy5fc2VsZWN0VGlsZXMoYSldO2Nhc2UgMjpyZXR1cm4gby5zZW50KCksWzQsdGhpcy5fcG9wdWxhdGVFbGV2YXRpb25UaWxlcyhhKV07Y2FzZSAzOnJldHVybiBvLnNlbnQoKSxbMixuZXcgbS5NdWx0aVRpbGVFbGV2YXRpb25TYW1wbGVyKGEuZWxldmF0aW9uVGlsZXMsYS5sYXllci50aWxlSW5mbyldfX0pfSl9LGUucHJvdG90eXBlLl9jcmVhdGVTYW1wbGVyQWxsQ29udGludWU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGksbCxhLHM7cmV0dXJuIG8odGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiBlLnBvcCgpLGUubGVuZ3RoPyhpPW4uc2FtcGxlcnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBoLmZyb21FeHRlbnQoZS5leHRlbnQpfSksWzQsdGhpcy5fY3JlYXRlU2FtcGxlcihlW2UubGVuZ3RoLTFdLHQscixpKV0pOlsyLG5dO2Nhc2UgMTpyZXR1cm4gbD1vLnNlbnQoKSwwPT09bC5zYW1wbGVycy5sZW5ndGg/WzIsbl06KGE9bi5zYW1wbGVycy5jb25jYXQobC5zYW1wbGVycykscz1uZXcgbS5NdWx0aVRpbGVFbGV2YXRpb25TYW1wbGVyKGEpLFs0LHRoaXMuX2NyZWF0ZVNhbXBsZXJBbGxDb250aW51ZShlLHQscyxyKV0pO2Nhc2UgMjpyZXR1cm5bMixvLnNlbnQoKV19fSl9KX0sZS5wcm90b3R5cGUuX3F1ZXJ5QWxsQ29udGludWU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpLHIsbCxhLHMsdSxjO3JldHVybiBvKHRoaXMsZnVuY3Rpb24obyl7c3dpdGNoKG8ubGFiZWwpe2Nhc2UgMDppZihpPWUucG9wKCksdC5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dC5zYW1wbGVJbmZvW25dLmRlbVJlc29sdXRpb24+PTAmJiF0LnNhbXBsZUluZm9bbl0uc291cmNlJiYodC5zYW1wbGVJbmZvW25dLnNvdXJjZT1pKX0pLCFlLmxlbmd0aClyZXR1cm5bMix0XTtmb3Iocj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLGw9W10sYT1bXSxzPTA7czxyLmxlbmd0aDtzKyspdC5zYW1wbGVJbmZvW3NdLmRlbVJlc29sdXRpb248MCYmKGwucHVzaChyW3NdKSxhLnB1c2gocykpO3JldHVybiAwPT09bC5sZW5ndGg/WzIsdF06KHU9dC5nZW9tZXRyeS5jbG9uZShsKSxbNCx0aGlzLnF1ZXJ5KGVbZS5sZW5ndGgtMV0sdSxuKV0pO2Nhc2UgMTpyZXR1cm4gYz1vLnNlbnQoKSxhLmZvckVhY2goZnVuY3Rpb24oZSxuKXtyW2VdLno9Yy5nZW9tZXRyeS5jb29yZGluYXRlc1tuXS56LHQuc2FtcGxlSW5mb1tlXS5kZW1SZXNvbHV0aW9uPWMuc2FtcGxlSW5mb1tuXS5kZW1SZXNvbHV0aW9ufSksWzQsdGhpcy5fcXVlcnlBbGxDb250aW51ZShlLHQsbildO2Nhc2UgMjpyZXR1cm5bMixvLnNlbnQoKV19fSl9KX0sZS5wcm90b3R5cGUuX2NyZWF0ZVF1ZXJ5UmVzdWx0PWZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZS5vdXRTcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhlLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UpP2UuZ2VvbWV0cnk6ZS5nZW9tZXRyeS5wcm9qZWN0KGUub3V0U3BhdGlhbFJlZmVyZW5jZSk7dmFyIG49e2dlb21ldHJ5OnQuZXhwb3J0KCksbm9EYXRhVmFsdWU6ZS5vcHRpb25zLm5vRGF0YVZhbHVlfTtyZXR1cm4gZS5vcHRpb25zLnJldHVyblNhbXBsZUluZm8mJihuLnNhbXBsZUluZm89dGhpcy5fZXh0cmFjdFNhbXBsZUluZm8oZSkpLGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnRpbGU9bnVsbCxlLmVsZXZhdGlvblRpbGU9bnVsbH0pLG59LGUucHJvdG90eXBlLl9jcmVhdGVHZW9tZXRyeURlc2NyaXB0b3I9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPWUubGF5ZXIudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZTtpZighKG49dCBpbnN0YW5jZW9mIHg/dC5wcm9qZWN0KGkpOmQucHJvamVjdCh0LGkpKSl0aHJvdyBuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTpzcGF0aWFsLXJlZmVyZW5jZS1taXNtYXRjaFwiLFwiQ2Fubm90IHF1ZXJ5IGVsZXZhdGlvbiBpbiAnXCIrdC5zcGF0aWFsUmVmZXJlbmNlLndraWQrXCInIG9uIGFuIGVsZXZhdGlvbiBzZXJ2aWNlIGluICdcIitpLndraWQrXCInXCIpO2UuZ2VvbWV0cnk9eC5mcm9tR2VvbWV0cnkobil9LGUucHJvdG90eXBlLl9zZWxlY3RUaWxlcz1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9ZS5vcHRpb25zLmRlbVJlc29sdXRpb24sKFwiZ2VvbWV0cnlcIj09PWUudHlwZSYmdGhpcy5fcHJlc2VsZWN0T3V0c2lkZUxheWVyRXh0ZW50KGUpLFwibnVtYmVyXCIhPXR5cGVvZiB0KT9bMywxXToodGhpcy5fc2VsZWN0VGlsZXNDbG9zZXN0UmVzb2x1dGlvbihlKSxbMyw2XSk7Y2FzZSAxOnJldHVyblwiZmluZXN0LWNvbnRpZ3VvdXNcIiE9PXQ/WzMsM106WzQsdGhpcy5fc2VsZWN0VGlsZXNGaW5lc3RDb250aWd1b3VzKGUpXTtjYXNlIDI6cmV0dXJuIG4uc2VudCgpLFszLDZdO2Nhc2UgMzpyZXR1cm5cImF1dG9cIiE9PXQ/WzMsNV06WzQsdGhpcy5fc2VsZWN0VGlsZXNBdXRvKGUpXTtjYXNlIDQ6cmV0dXJuIG4uc2VudCgpLFszLDZdO2Nhc2UgNTp0aHJvdyBuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTppbnZhbGlkLWRlbS1yZXNvbHV0aW9uXCIsXCJJbnZhbGlkIGRlbSByZXNvbHV0aW9uIHZhbHVlICdcIit0KydcXCcsIGV4cGVjdGVkIGEgbnVtYmVyLCBcImZpbmVzdC1jb250aWd1b3VzXCIgb3IgXCJhdXRvXCInKTtjYXNlIDY6cmV0dXJuWzJdfX0pfSl9LGUucHJvdG90eXBlLl9wcmVzZWxlY3RPdXRzaWRlTGF5ZXJFeHRlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHkuRWxldmF0aW9uVGlsZShudWxsKTt0LnNhbXBsZT1mdW5jdGlvbih0LG4pe3JldHVybiBlLm9wdGlvbnMubm9EYXRhVmFsdWV9LGUub3V0c2lkZUV4dGVudFRpbGU9dDt2YXIgbj1lLmxheWVyLmZ1bGxFeHRlbnQ7ZS5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPWUueCxyPWUueTsoaTxuLnhtaW58fGk+bi54bWF4fHxyPG4ueW1pbnx8cj5uLnltYXgpJiYoZS5lbGV2YXRpb25UaWxlPXQpfSl9LGUucHJvdG90eXBlLl9zZWxlY3RUaWxlc0Nsb3Nlc3RSZXNvbHV0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5ZXIudGlsZUluZm8sbj10aGlzLl9maW5kTmVhcmVzdERlbVJlc29sdXRpb25MT0RJbmRleCh0LGUub3B0aW9ucy5kZW1SZXNvbHV0aW9uKTtlLnNlbGVjdFRpbGVzQXRMT0Qobil9LGUucHJvdG90eXBlLl9maW5kTmVhcmVzdERlbVJlc29sdXRpb25MT0RJbmRleD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj12LmdldE1ldGVyc1BlclVuaXRGb3JTUihlLnNwYXRpYWxSZWZlcmVuY2UpLGk9dC9uLHI9ZS5sb2RzWzBdLG89MCxsPTE7bDxlLmxvZHMubGVuZ3RoO2wrKyl7dmFyIGE9ZS5sb2RzW2xdO01hdGguYWJzKGEucmVzb2x1dGlvbi1pKTxNYXRoLmFicyhyLnJlc29sdXRpb24taSkmJihyPWEsbz1sKX1yZXR1cm4gb30sZS5wcm90b3R5cGUuX3NlbGVjdFRpbGVzRmluZXN0Q29udGlndW91cz1mdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9VChlLmxheWVyLnRpbGVJbmZvLGUub3B0aW9ucy5taW5EZW1SZXNvbHV0aW9uKSxbNCx0aGlzLl9zZWxlY3RUaWxlc0ZpbmVzdENvbnRpZ3VvdXNBdChlLHQpXTtjYXNlIDE6cmV0dXJuIG4uc2VudCgpLFsyXX19KX0pfSxlLnByb3RvdHlwZS5fc2VsZWN0VGlsZXNGaW5lc3RDb250aWd1b3VzQXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixpLHIsYTtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6aWYobj1lLmxheWVyLGUuc2VsZWN0VGlsZXNBdExPRCh0KSx0PDApcmV0dXJuWzJdO2k9bi50aWxlbWFwQ2FjaGUscj1lLmdldFRpbGVzVG9GZXRjaCgpLG8ubGFiZWw9MTtjYXNlIDE6cmV0dXJuIG8udHJ5cy5wdXNoKFsxLDYsLDhdKSxpP1s0LGwoci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZmV0Y2hBdmFpbGFiaWxpdHkoZS5sZXZlbCxlLnJvdyxlLmNvbCl9KSldOlszLDNdO2Nhc2UgMjpyZXR1cm4gby5zZW50KCksWzMsNV07Y2FzZSAzOnJldHVybls0LHRoaXMuX3BvcHVsYXRlRWxldmF0aW9uVGlsZXMoZSldO2Nhc2UgNDppZihvLnNlbnQoKSwhZS5hbGxFbGV2YXRpb25UaWxlc0ZldGNoZWQoKSl0aHJvdyBlLmNsZWFyRWxldmF0aW9uVGlsZXMoKSxuZXcgcyhcImVsZXZhdGlvbi1xdWVyeTpoYXMtdW5hdmFpbGFibGUtdGlsZXNcIik7by5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMyw4XTtjYXNlIDY6cmV0dXJuIGE9by5zZW50KCksWzQsdGhpcy5fc2VsZWN0VGlsZXNGaW5lc3RDb250aWd1b3VzQXQoZSx0LTEpXTtjYXNlIDc6cmV0dXJuIG8uc2VudCgpLFszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSl9KX0sZS5wcm90b3R5cGUuX3BvcHVsYXRlRWxldmF0aW9uVGlsZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsbixpLHI7cmV0dXJuIG8odGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiB0PWUub3B0aW9ucy5ub0RhdGFWYWx1ZSxuPWUuZ2V0VGlsZXNUb0ZldGNoKCksaT17fSxyPW4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBlLmxheWVyLmZldGNoVGlsZShuLmxldmVsLG4ucm93LG4uY29sLHQpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGlbbi5pZF09bmV3IHkuRWxldmF0aW9uVGlsZShuLGUpfSl9KSxbNCx1LmVhY2hBbHdheXMocildO2Nhc2UgMTpyZXR1cm4gby5zZW50KCksZS5wb3B1bGF0ZUVsZXZhdGlvblRpbGVzKGkpLFsyXX19KX0pfSxlLnByb3RvdHlwZS5fc2VsZWN0VGlsZXNBdXRvPWZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0LG4scixhLHM9dGhpcztyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3NlbGVjdFRpbGVzQXV0b0ZpbmVzdChlKSwodGhpcy5fcmVkdWNlVGlsZXNGb3JNYXhpbXVtUmVxdWVzdHMoZSksdD1lLmxheWVyLnRpbGVtYXBDYWNoZSk/KG49ZS5nZXRUaWxlc1RvRmV0Y2goKSxyPXt9LGE9bi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkocyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4saTtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKG8pe3N3aXRjaChvLmxhYmVsKXtjYXNlIDA6bj17aWQ6bnVsbCxsZXZlbDowLHJvdzowLGNvbDowLGV4dGVudDpoLmNyZWF0ZSgpfSxvLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBvLnRyeXMucHVzaChbMSwzLCw0XSksWzQsdC5mZXRjaEF2YWlsYWJpbGl0eVVwc2FtcGxlKGUubGV2ZWwsZS5yb3csZS5jb2wsbildO2Nhc2UgMjpyZXR1cm4gby5zZW50KCkscltlLmlkXT1uLFszLDRdO2Nhc2UgMzpyZXR1cm4gaT1vLnNlbnQoKSxbMyw0XTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9KSxbNCxsKGEpXSk6WzMsMl07Y2FzZSAxOnJldHVybiB1LnNlbnQoKSxlLnJlbWFwVGlsZXMociksWzMsM107Y2FzZSAyOnJldHVyblsyLHRoaXMuX3NlbGVjdFRpbGVzQXV0b1ByZWZldGNoVXBzYW1wbGUoZSldO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0sZS5wcm90b3R5cGUuX3JlZHVjZVRpbGVzRm9yTWF4aW11bVJlcXVlc3RzPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGF5ZXIudGlsZUluZm8sbj0wLGk9e30scj1mdW5jdGlvbihlKXtlLmlkIGluIGk/aVtlLmlkXSsrOihpW2UuaWRdPTEsbisrKX0sbz1mdW5jdGlvbihlKXt2YXIgdD1pW2UuaWRdOzE9PT10PyhkZWxldGUgaVtlLmlkXSxuLS0pOmlbZS5pZF09dC0xfTtlLmZvckVhY2hUaWxlVG9GZXRjaChyLG8pO2Zvcih2YXIgbD0hMDtsJiYobD0hMSxlLmZvckVhY2hUaWxlVG9GZXRjaChmdW5jdGlvbihpKXtuPD1lLm9wdGlvbnMubWF4aW11bUF1dG9UaWxlUmVxdWVzdHN8fChvKGkpLHQudXBzYW1wbGVUaWxlKGkpJiYobD0hMCkscihpKSl9LG8pLGwpOyk7fSxlLnByb3RvdHlwZS5fc2VsZWN0VGlsZXNBdXRvRmluZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PVQoZS5sYXllci50aWxlSW5mbyxlLm9wdGlvbnMubWluRGVtUmVzb2x1dGlvbik7ZS5zZWxlY3RUaWxlc0F0TE9EKHQsZS5vcHRpb25zLm1heGltdW1BdXRvVGlsZVJlcXVlc3RzKX0sZS5wcm90b3R5cGUuX3NlbGVjdFRpbGVzQXV0b1ByZWZldGNoVXBzYW1wbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gbyh0aGlzLGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQ9ZS5sYXllci50aWxlSW5mbyxbNCx0aGlzLl9wb3B1bGF0ZUVsZXZhdGlvblRpbGVzKGUpXTtjYXNlIDE6cmV0dXJuIGkuc2VudCgpLG49ITEsZS5mb3JFYWNoVGlsZVRvRmV0Y2goZnVuY3Rpb24oZSxpKXt0LnVwc2FtcGxlVGlsZShlKT9uPSEwOmkoKX0pLG4/WzQsdGhpcy5fc2VsZWN0VGlsZXNBdXRvUHJlZmV0Y2hVcHNhbXBsZShlKV06WzMsM107Y2FzZSAyOmkuc2VudCgpLGkubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LGUucHJvdG90eXBlLl9zYW1wbGVHZW9tZXRyeVdpdGhFbGV2YXRpb249ZnVuY3Rpb24oZSl7ZS5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuZWxldmF0aW9uVGlsZSxpPWUub3B0aW9ucy5ub0RhdGFWYWx1ZTtpZihuKXt2YXIgcj1uLnNhbXBsZSh0LngsdC55KTt2b2lkIDAhPT1yP2k9cjp0LmVsZXZhdGlvblRpbGU9bnVsbH10Lno9aX0pfSxlLnByb3RvdHlwZS5fZXh0cmFjdFNhbXBsZUluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXllci50aWxlSW5mbyxuPXYuZ2V0TWV0ZXJzUGVyVW5pdEZvclNSKHQuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uKGkpe3ZhciByPS0xO2lmKGkuZWxldmF0aW9uVGlsZSYmaS5lbGV2YXRpb25UaWxlIT09ZS5vdXRzaWRlRXh0ZW50VGlsZSl7cj10LmxvZEF0KGkuZWxldmF0aW9uVGlsZS50aWxlLmxldmVsKS5yZXNvbHV0aW9uKm59cmV0dXJue2RlbVJlc29sdXRpb246cn19KX0sZX0oKTt0LkVsZXZhdGlvblF1ZXJ5PWc7dmFyIHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5leHBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwb3J0ZXIodGhpcy5jb29yZGluYXRlcyx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLGk9bmV3IGU7cmV0dXJuIGkuZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeSxpLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGkuY29vcmRpbmF0ZXM9dHx8dGhpcy5jb29yZGluYXRlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG4uX2Nsb25lQ29vcmRpbmF0ZShlKX0pLGkuX2V4cG9ydGVyPXRoaXMuX2V4cG9ydGVyLGl9LGUucHJvdG90eXBlLnByb2plY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGUpKXJldHVybiB0aGlzLmNsb25lKCk7aWYoZC5jYW5Qcm9qZWN0KHRoaXMuc3BhdGlhbFJlZmVyZW5jZSxlKSl7dmFyIG49ZS5pc1dHUzg0P2QueHlUb0xuZ0xhdDpkLmxuZ0xhdFRvWFksaT1bMCwwXSxyPXRoaXMuY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2Nsb25lQ29vcmRpbmF0ZShlKTtyZXR1cm4gbihyLngsci55LGkpLHIueD1pWzBdLHIueT1pWzFdLHJ9KSxvPXRoaXMuY2xvbmUocik7cmV0dXJuIG8uc3BhdGlhbFJlZmVyZW5jZT1lLG99cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9jbG9uZUNvb3JkaW5hdGU9ZnVuY3Rpb24oZSl7cmV0dXJue3g6ZS54LHk6ZS55LHo6ZS56LHRpbGU6bnVsbCxlbGV2YXRpb25UaWxlOm51bGx9fSxlLmZyb21HZW9tZXRyeT1mdW5jdGlvbih0KXt2YXIgbj1uZXcgZTtpZihuLmdlb21ldHJ5PXQsbi5zcGF0aWFsUmVmZXJlbmNlPXQuc3BhdGlhbFJlZmVyZW5jZSx0IGluc3RhbmNlb2YgZSluLmNvb3JkaW5hdGVzPXQuY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuLl9jbG9uZUNvb3JkaW5hdGUoZSl9KSxuLl9leHBvcnRlcj1mdW5jdGlvbihlLG4pe3ZhciBpPXQuY2xvbmUoZSk7cmV0dXJuIGkuc3BhdGlhbFJlZmVyZW5jZT1uLGl9O2Vsc2Ugc3dpdGNoKHQudHlwZSl7Y2FzZVwicG9pbnRcIjp2YXIgaT10O3QuaGFzTT9uLmNvb3JkaW5hdGVzPVt7eDppLngseTppLnksbTppLm19XTpuLmNvb3JkaW5hdGVzPVt7eDppLngseTppLnl9XSxuLl9leHBvcnRlcj1mdW5jdGlvbihlLG4pe3JldHVybiB0Lmhhc00/bmV3IHAoZVswXS54LGVbMF0ueSxlWzBdLnosZVswXS5tLG4pOm5ldyBwKGVbMF0ueCxlWzBdLnksZVswXS56LG4pfTticmVhaztjYXNlXCJtdWx0aXBvaW50XCI6dmFyIHI9dDtuLmNvb3JkaW5hdGVzPXIucG9pbnRzLm1hcChmdW5jdGlvbihlKXtpZih0Lmhhc00pe3ZhciBuPXQuaGFzWj8zOjI7cmV0dXJue3g6ZVswXSx5OmVbMV0sbTplW25dfX1yZXR1cm57eDplWzBdLHk6ZVsxXX19KSxuLl9leHBvcnRlcj1mdW5jdGlvbihlLG4pe3JldHVybiB0Lmhhc00/bmV3IGMoe3BvaW50czplLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZS54LGUueSxlLnosZS5tXX0pLGhhc1o6ITAsaGFzTTohMCxzcGF0aWFSZWZlcmVuY2U6bn0pOm5ldyBjKGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLngsZS55LGUuel19KSxuKX07YnJlYWs7Y2FzZVwicG9seWxpbmVcIjp2YXIgbz10LGw9W10sYT1bXSxzPTA7by5wYXRocy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EucHVzaChbcyxzK2UubGVuZ3RoXSkscys9ZS5sZW5ndGgsbC5wdXNoLmFwcGx5KGwsZS5tYXAoZnVuY3Rpb24oZSl7aWYodC5oYXNNKXt2YXIgbj10Lmhhc1o/MzoyO3JldHVybnt4OmVbMF0seTplWzFdLG06ZVtuXX19cmV0dXJue3g6ZVswXSx5OmVbMV19fSkpfSksbi5jb29yZGluYXRlcz1sLG4uX2V4cG9ydGVyPWZ1bmN0aW9uKGUsbil7dmFyIGk9dC5oYXNNP2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLngsZS55LGUueixlLm1dfSk6ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2UueCxlLnksZS56XX0pLHI9YS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuc2xpY2UoZVswXSxlWzFdKX0pO3JldHVybiBuZXcgZih7cGF0aHM6cixoYXNNOnQuaGFzTSxoYXNaOiEwLHNwYXRpYWxSZWZlcmVuY2U6bn0pfX1yZXR1cm4gbn0sZX0oKTt0Lkdlb21ldHJ5RGVzY3JpcHRvcj14O3ZhciBfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubGF5ZXI9ZSx0aGlzLm9wdGlvbnM9dH1yZXR1cm4gZX0oKSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLGkpe3ZhciByPWUuY2FsbCh0aGlzLHQsaSl8fHRoaXM7cmV0dXJuIHIudHlwZT1cImdlb21ldHJ5XCIsci5vdXRTcGF0aWFsUmVmZXJlbmNlPW4scn1yZXR1cm4gcih0LGUpLHQucHJvdG90eXBlLnNlbGVjdFRpbGVzQXRMT0Q9ZnVuY3Rpb24oZSx0KXtpZihlPDApdGhpcy5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpbGU9bnVsbH0pO2Vsc2V7dmFyIG49dGhpcy5sYXllci50aWxlSW5mbyxpPW4ubG9kc1tlXS5sZXZlbDt0aGlzLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50aWxlPW4udGlsZUF0KGksZS54LGUueSl9KX19LHQucHJvdG90eXBlLmFsbEVsZXZhdGlvblRpbGVzRmV0Y2hlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIWUuZWxldmF0aW9uVGlsZX0pfSx0LnByb3RvdHlwZS5jbGVhckVsZXZhdGlvblRpbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLmdlb21ldHJ5LmNvb3JkaW5hdGVzO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO24uZWxldmF0aW9uVGlsZSE9PXRoaXMub3V0c2lkZUV4dGVudFRpbGUmJihuLmVsZXZhdGlvblRpbGU9bnVsbCl9fSx0LnByb3RvdHlwZS5wb3B1bGF0ZUVsZXZhdGlvblRpbGVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5nZW9tZXRyeS5jb29yZGluYXRlczt0PG4ubGVuZ3RoO3QrKyl7dmFyIGk9blt0XTshaS5lbGV2YXRpb25UaWxlJiZpLnRpbGUmJihpLmVsZXZhdGlvblRpbGU9ZVtpLnRpbGUuaWRdKX19LHQucHJvdG90eXBlLnJlbWFwVGlsZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmdlb21ldHJ5LmNvb3JkaW5hdGVzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgaT1uW3RdO2kudGlsZT1lW2kudGlsZS5pZF19fSx0LnByb3RvdHlwZS5nZXRUaWxlc1RvRmV0Y2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1bXSxuPTAsaT10aGlzLmdlb21ldHJ5LmNvb3JkaW5hdGVzO248aS5sZW5ndGg7bisrKXt2YXIgcj1pW25dLG89ci50aWxlO3IuZWxldmF0aW9uVGlsZXx8IXIudGlsZXx8ZVtvLmlkXXx8KGVbby5pZF09byx0LnB1c2gobykpfXJldHVybiB0fSx0LnByb3RvdHlwZS5mb3JFYWNoVGlsZVRvRmV0Y2g9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxpPXRoaXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7bjxpLmxlbmd0aDtuKyspe3ZhciByPWlbbl07IWZ1bmN0aW9uKHQpe3QudGlsZSYmIXQuZWxldmF0aW9uVGlsZSYmZSh0LnRpbGUsZnVuY3Rpb24oKXtyZXR1cm4gdC50aWxlPW51bGx9KX0ocil9fSx0fShfKSxFPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLGkscil7dmFyIG89ZS5jYWxsKHRoaXMsdCxpKXx8dGhpcztyZXR1cm4gby50eXBlPVwiZXh0ZW50XCIsby5lbGV2YXRpb25UaWxlcz1bXSxvLmNhbmRpZGF0ZVRpbGVzPVtdLG8uZmV0Y2hlZENhbmRpZGF0ZXM9bmV3IFNldCxvLmV4dGVudD1uLmludGVyc2VjdGlvbih0LmZ1bGxFeHRlbnQpLG8ubWFza0V4dGVudHM9cixvfXJldHVybiByKHQsZSksdC5wcm90b3R5cGUuc2VsZWN0VGlsZXNBdExPRD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX21heGltdW1Mb2RGb3JSZXF1ZXN0cyh0KSxpPU1hdGgubWluKG4sZSk7aTwwP3RoaXMuY2FuZGlkYXRlVGlsZXMubGVuZ3RoPTA6dGhpcy5fc2VsZWN0Q2FuZGlkYXRlVGlsZXNDb3ZlcmluZ0V4dGVudEF0KGkpfSx0LnByb3RvdHlwZS5fbWF4aW11bUxvZEZvclJlcXVlc3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGF5ZXIudGlsZUluZm87aWYoIWUpcmV0dXJuIHQubG9kcy5sZW5ndGgtMTtmb3IodmFyIG49dGhpcy5leHRlbnQsaT10LmxvZHMubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciByPXQubG9kc1tpXSxvPXIucmVzb2x1dGlvbip0LnNpemVbMF0sbD1yLnJlc29sdXRpb24qdC5zaXplWzFdO2lmKE1hdGguY2VpbChuLndpZHRoL28pKk1hdGguY2VpbChuLmhlaWdodC9sKTw9ZSlyZXR1cm4gaX1yZXR1cm4tMX0sdC5wcm90b3R5cGUuYWxsRWxldmF0aW9uVGlsZXNGZXRjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuZGlkYXRlVGlsZXMubGVuZ3RoPT09dGhpcy5lbGV2YXRpb25UaWxlcy5sZW5ndGh9LHQucHJvdG90eXBlLmNsZWFyRWxldmF0aW9uVGlsZXM9ZnVuY3Rpb24oKXt0aGlzLmVsZXZhdGlvblRpbGVzLmxlbmd0aD0wLHRoaXMuZmV0Y2hlZENhbmRpZGF0ZXMuY2xlYXIoKX0sdC5wcm90b3R5cGUucG9wdWxhdGVFbGV2YXRpb25UaWxlcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMuY2FuZGlkYXRlVGlsZXM7dDxuLmxlbmd0aDt0Kyspe3ZhciBpPW5bdF0scj1lW2kuaWRdO3ImJih0aGlzLmZldGNoZWRDYW5kaWRhdGVzLmFkZChpKSx0aGlzLmVsZXZhdGlvblRpbGVzLnB1c2gocikpfX0sdC5wcm90b3R5cGUucmVtYXBUaWxlcz1mdW5jdGlvbihlKXt0aGlzLmNhbmRpZGF0ZVRpbGVzPXRoaXMuX3VuaXF1ZU5vbk92ZXJsYXBwaW5nVGlsZXModGhpcy5jYW5kaWRhdGVUaWxlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGVbdC5pZF19KSl9LHQucHJvdG90eXBlLmdldFRpbGVzVG9GZXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmRpZGF0ZVRpbGVzfSx0LnByb3RvdHlwZS5mb3JFYWNoVGlsZVRvRmV0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5jYW5kaWRhdGVUaWxlczt0aGlzLmNhbmRpZGF0ZVRpbGVzPVtdLGkuZm9yRWFjaChmdW5jdGlvbihpKXtpZihuLmZldGNoZWRDYW5kaWRhdGVzLmhhcyhpKSlyZXR1cm4gdm9pZCh0JiZ0KGkpKTt2YXIgcj0hMTtlKGksZnVuY3Rpb24oKXtyZXR1cm4gcj0hMH0pLHI/dCYmdChpKTpuLmNhbmRpZGF0ZVRpbGVzLnB1c2goaSl9KSx0aGlzLmNhbmRpZGF0ZVRpbGVzPXRoaXMuX3VuaXF1ZU5vbk92ZXJsYXBwaW5nVGlsZXModGhpcy5jYW5kaWRhdGVUaWxlcyx0KX0sdC5wcm90b3R5cGUuX3VuaXF1ZU5vbk92ZXJsYXBwaW5nVGlsZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30saT1bXSxyPTAsbz1lO3I8by5sZW5ndGg7cisrKXt2YXIgbD1vW3JdO25bbC5pZF0/dCYmdChsKToobltsLmlkXT1sLGkucHVzaChsKSl9dmFyIGE9aS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGV2ZWwtdC5sZXZlbH0pO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihlLG4pe2Zvcih2YXIgaT0wO2k8bjtpKyspaWYoaC5jb250YWlucyhhW2ldLmV4dGVudCxlLmV4dGVudCkpcmV0dXJuIHQmJnQoZSksITE7cmV0dXJuITB9KX0sdC5wcm90b3R5cGUuX3NlbGVjdENhbmRpZGF0ZVRpbGVzQ292ZXJpbmdFeHRlbnRBdD1mdW5jdGlvbihlKXt0aGlzLmNhbmRpZGF0ZVRpbGVzLmxlbmd0aD0wO2Zvcih2YXIgdD10aGlzLmxheWVyLnRpbGVJbmZvLG49dC5sb2RzW2VdLGk9dGhpcy5leHRlbnQscj10LnRpbGVBdChuLmxldmVsLGkueG1pbixpLnltaW4pLG89bi5yZXNvbHV0aW9uKnQuc2l6ZVswXSxsPW4ucmVzb2x1dGlvbip0LnNpemVbMV0sYT1NYXRoLmNlaWwoKGkueG1heC1yLmV4dGVudFswXSkvbykscz1NYXRoLmNlaWwoKGkueW1heC1yLmV4dGVudFsxXSkvbCksdT0wO3U8czt1KyspZm9yKHZhciBjPTA7YzxhO2MrKyl7dmFyIHA9e2lkOm51bGwsbGV2ZWw6ci5sZXZlbCxyb3c6ci5yb3ctdSxjb2w6ci5jb2wrY307dC51cGRhdGVUaWxlSW5mbyhwKSx0aGlzLl90aWxlSXNNYXNrZWQocCl8fHRoaXMuY2FuZGlkYXRlVGlsZXMucHVzaChwKX19LHQucHJvdG90eXBlLl90aWxlSXNNYXNrZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLm1hc2tFeHRlbnRzJiZ0aGlzLm1hc2tFeHRlbnRzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIGguY29udGFpbnModCxlLmV4dGVudCl9KX0sdH0oXyk7dC5nZXRGaW5lc3RMb2RJbmRleD1ULHQuZGVmYXVsdD1nfSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/support/ElevationQuery.js\n");

/***/ }),

/***/ "./node_modules/arcgis-js-api/layers/support/ElevationTile.js":
/*!********************************************************************!*\
  !*** ./node_modules/arcgis-js-api/layers/support/ElevationTile.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// COPYRIGHT © 2018 Esri\n//\n// All rights reserved under the copyright laws of the United States\n// and applicable international laws, treaties, and conventions.\n//\n// This material is licensed for use under the Esri Master License\n// Agreement (MLA), and is bound by the terms of that agreement.\n// You may redistribute and use this code without modification,\n// provided you adhere to the terms of the MLA and include this\n// copyright notice.\n//\n// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english\n//\n// For additional information, contact:\n// Environmental Systems Research Institute, Inc.\n// Attn: Contracts and Legal Services Department\n// 380 New York Street\n// Redlands, California, USA 92373\n// USA\n//\n// email: contracts@esri.com\n//\n// See http://js.arcgis.com/4.8/esri/copyright.txt for details.\n\n!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__.dj.c(module.i),exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function(t,e){function a(t,e,a){var n=t.safeWidth,r=t.width,u=t.values,l=t.noDataValue,o=i(t.dy*(t.y1-a),0,n),h=i(t.dx*(e-t.x0),0,n),s=Math.floor(o),d=Math.floor(h),f=s*r+d,p=f+r,v=u[f],c=u[p],y=u[f+1],D=u[p+1];if(v!==l&&c!==l&&y!==l&&D!==l){var m=o-s,w=h-d,x=v+(y-v)*w;return x+(c+(D-c)*w-x)*m}}function i(t,e,a){return t<e?e:t>a?a:t}Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){this.tile=t,this.update(e)}return t.prototype.update=function(t){if(!t)return void(this.samplerData=null);var e=this.tile.extent;this.samplerData={values:t.values,width:t.width,height:t.height,safeWidth:.99999999*(t.width-1),noDataValue:t.noDataValue,dx:(t.width-1)/(e[2]-e[0]),dy:(t.width-1)/(e[3]-e[1]),x0:e[0],y1:e[3]}},t.prototype.sample=function(t,e){if(this.samplerData)return a(this.samplerData,t,e)},t}();e.ElevationTile=n,e.sample=a,e.default=n}).apply(null, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXJjZ2lzLWpzLWFwaS9sYXllcnMvc3VwcG9ydC9FbGV2YXRpb25UaWxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyY2dpcy1qcy1hcGkvbGF5ZXJzL3N1cHBvcnQvRWxldmF0aW9uVGlsZS5qcz8wYmI0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENPUFlSSUdIVCDCqSAyMDE4IEVzcmlcbi8vXG4vLyBBbGwgcmlnaHRzIHJlc2VydmVkIHVuZGVyIHRoZSBjb3B5cmlnaHQgbGF3cyBvZiB0aGUgVW5pdGVkIFN0YXRlc1xuLy8gYW5kIGFwcGxpY2FibGUgaW50ZXJuYXRpb25hbCBsYXdzLCB0cmVhdGllcywgYW5kIGNvbnZlbnRpb25zLlxuLy9cbi8vIFRoaXMgbWF0ZXJpYWwgaXMgbGljZW5zZWQgZm9yIHVzZSB1bmRlciB0aGUgRXNyaSBNYXN0ZXIgTGljZW5zZVxuLy8gQWdyZWVtZW50IChNTEEpLCBhbmQgaXMgYm91bmQgYnkgdGhlIHRlcm1zIG9mIHRoYXQgYWdyZWVtZW50LlxuLy8gWW91IG1heSByZWRpc3RyaWJ1dGUgYW5kIHVzZSB0aGlzIGNvZGUgd2l0aG91dCBtb2RpZmljYXRpb24sXG4vLyBwcm92aWRlZCB5b3UgYWRoZXJlIHRvIHRoZSB0ZXJtcyBvZiB0aGUgTUxBIGFuZCBpbmNsdWRlIHRoaXNcbi8vIGNvcHlyaWdodCBub3RpY2UuXG4vL1xuLy8gU2VlIHVzZSByZXN0cmljdGlvbnMgYXQgaHR0cDovL3d3dy5lc3JpLmNvbS9sZWdhbC9wZGZzL21sYV9lMjA0X2UzMDAvZW5nbGlzaFxuLy9cbi8vIEZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uLCBjb250YWN0OlxuLy8gRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuLy8gQXR0bjogQ29udHJhY3RzIGFuZCBMZWdhbCBTZXJ2aWNlcyBEZXBhcnRtZW50XG4vLyAzODAgTmV3IFlvcmsgU3RyZWV0XG4vLyBSZWRsYW5kcywgQ2FsaWZvcm5pYSwgVVNBIDkyMzczXG4vLyBVU0Fcbi8vXG4vLyBlbWFpbDogY29udHJhY3RzQGVzcmkuY29tXG4vL1xuLy8gU2VlIGh0dHA6Ly9qcy5hcmNnaXMuY29tLzQuOC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG5cbmRlZmluZShbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gYSh0LGUsYSl7dmFyIG49dC5zYWZlV2lkdGgscj10LndpZHRoLHU9dC52YWx1ZXMsbD10Lm5vRGF0YVZhbHVlLG89aSh0LmR5Kih0LnkxLWEpLDAsbiksaD1pKHQuZHgqKGUtdC54MCksMCxuKSxzPU1hdGguZmxvb3IobyksZD1NYXRoLmZsb29yKGgpLGY9cypyK2QscD1mK3Isdj11W2ZdLGM9dVtwXSx5PXVbZisxXSxEPXVbcCsxXTtpZih2IT09bCYmYyE9PWwmJnkhPT1sJiZEIT09bCl7dmFyIG09by1zLHc9aC1kLHg9disoeS12KSp3O3JldHVybiB4KyhjKyhELWMpKncteCkqbX19ZnVuY3Rpb24gaSh0LGUsYSl7cmV0dXJuIHQ8ZT9lOnQ+YT9hOnR9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy50aWxlPXQsdGhpcy51cGRhdGUoZSl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdm9pZCh0aGlzLnNhbXBsZXJEYXRhPW51bGwpO3ZhciBlPXRoaXMudGlsZS5leHRlbnQ7dGhpcy5zYW1wbGVyRGF0YT17dmFsdWVzOnQudmFsdWVzLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHNhZmVXaWR0aDouOTk5OTk5OTkqKHQud2lkdGgtMSksbm9EYXRhVmFsdWU6dC5ub0RhdGFWYWx1ZSxkeDoodC53aWR0aC0xKS8oZVsyXS1lWzBdKSxkeToodC53aWR0aC0xKS8oZVszXS1lWzFdKSx4MDplWzBdLHkxOmVbM119fSx0LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLnNhbXBsZXJEYXRhKXJldHVybiBhKHRoaXMuc2FtcGxlckRhdGEsdCxlKX0sdH0oKTtlLkVsZXZhdGlvblRpbGU9bixlLnNhbXBsZT1hLGUuZGVmYXVsdD1ufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/arcgis-js-api/layers/support/ElevationTile.js\n");

/***/ })

}]);
(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/layers/RefreshableLayerView":1296,"esri/views/3d/layers/TileLayerView3D":1447,"esri/views/3d/layers/support/tiledLayerUtils":1514})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1296:function(e,r,i){var t,o;t=[i.dj.c(e.i),r,i(2),i(0),i(5),i(1)],void 0===(o=function(e,r,i,t,o,s){return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.refreshTimestamp=null,r}return i(r,e),r.prototype.refresh=function(e){void 0===e&&(e=Date.now()),this._set("refreshTimestamp",e),this.doRefresh&&this.doRefresh()},t([s.property()],r.prototype,"layer",void 0),t([s.aliasOf("layer.refreshInterval")],r.prototype,"refreshInterval",void 0),t([s.property({readOnly:!0})],r.prototype,"refreshTimestamp",void 0),t([s.subclass("esri.layers.mixins.RefreshableLayerView")],r)}(s.declared(o))}.apply(null,t))||(e.exports=o)},1447:function(e,r,i){var t,o;t=[i.dj.c(e.i),r,i(12),i(0),i(8),i(18),i(1),i(1511),i(1514),i(1600),i(1296)],void 0===(o=function(e,r,i,t,o,s,n,a,l,p,u){return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return i(r,e),Object.defineProperty(r.prototype,"imageFormatIsOpaque",{get:function(){return"jpg"===this.get("layer.tileInfo.format")},enumerable:!0,configurable:!0}),r.prototype.initialize=function(){var e=this,r=this._getTileInfoSupportError(this.tileInfo,this.layer.fullExtent);if(r)this.addResolvingPromise(o.reject(r));else{var i=s.whenTrueOnce(this.view,"basemapTerrain.tilingSchemeLocked").then(function(){var r=e.view.basemapTerrain.tilingScheme;l.throwIfError(e._getTileInfoCompatibilityError(e.tileInfo,r))});this.addResolvingPromise(i)}this.addResolvingPromise(l.checkArcGISServiceVersionCompatibility(this.layer)),this._updateMinMaxDataLevel(),this.maxDataLevel=Math.min(this.maxDataLevel,p.getKnownTiledServiceLevelCap(this.layer.url))},r.prototype.doRefresh=function(){this.suspended||this.emit("data-changed")},t([n.property({readOnly:!0,dependsOn:["layer.tileInfo.format"]})],r.prototype,"imageFormatIsOpaque",null),t([n.property({aliasOf:"layer.fullExtent"})],r.prototype,"fullExtent",void 0),t([n.property()],r.prototype,"layer",void 0),t([n.property({aliasOf:"layer.tileInfo"})],r.prototype,"tileInfo",void 0),t([n.subclass("esri.views.3d.layers.TileLayerView3D")],r)}(n.declared(a,u))}.apply(null,t))||(e.exports=o)},1514:function(e,r,i){var t,o;t=[i.dj.c(e.i),r,i(250),i(9),i(8),i(131)],void 0===(o=function(e,r,i,t,o,s){Object.defineProperty(r,"__esModule",{value:!0}),r.checkArcGISServiceVersionCompatibility=function(e){if(!s.isHostedAgolService(e.url)){if(e.version<10.22){var r=new t("layerview:service-version-too-old","Tiled Map Layers on servers prior to 10.2.2 are not supported. Detected version: "+e.version,{minVersion:10.22,detectedVersion:e.version});return o.reject(r)}if(10.22!==e.version||s.isHostedSecuredProxyService(e.url,e.get("portalItem.id")))return o.resolve();var n=function(e){var r=null,i=e.search(/\/rest\/services\//i);return i>0&&(r=e.substring(0,i+6)),r}(e.url),a=new t("tiledlayerview3d:service-missing-cors-patch","Tiled Map Layers from 10.2.2 servers are only supported if all server updates have been applied.");return i(n+"self?f=json",{headers:{"X-Requested-With":null},timeout:1e4,handleAs:"json"}).then(function(e){if(!e||e.error)throw a}).catch(function(){throw a})}},r.throwIfError=function(e){if(e)throw e}}.apply(null,t))||(e.exports=o)}}]);
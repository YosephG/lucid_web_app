(function(){(this||window).webpackJsonp.registerAbsMids({"esri/portal/support/layersLoader":1253,"esri/layers/support/lazyLayerLoader":1343,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/esri-webpack-template/node_modules/arcgis-js-api/layers/support/lazyLayerLoader":1343,"esri/portal/support/jsonContext":1623})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1253:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(27),t(9),t(8),t(238),t(1343),t(49),t(1623),t(259)],void 0===(a=function(e,n,t,r,a,o,u,i,c,l){function p(e,n){var t,a,o=e.portalItem.type;switch(o){case"Feature Service":t=u.layerLookupMap.FeatureLayer;break;case"Stream Service":t=u.layerLookupMap.StreamLayer;break;case"Scene Service":t=u.layerLookupMap.SceneLayer;break;case"Feature Collection":t=u.layerLookupMap.FeatureLayer;break;default:throw new r("portal:unsupported-item-type-as-group","The item type '"+o+"' is not supported as a 'GroupLayer'")}return t().then(function(e){return a=e,f(n)}).then(function(t){return t&&Array.isArray(t.layers)?y(e,a,t,n):s(e,a,n)})}function s(e,n,r){if(!e.portalItem.url)return a.resolve();return t(e.portalItem.url,{responseType:"json",callbackParamName:"callback",query:{f:"json"}}).then(function(t){var a=t.data;if(a&&Array.isArray(a.layers)){var o=a.layers.map(function(e){return{id:e.id,name:e.name}});return y(e,n,{layers:o},r)}})}function y(e,n,t,r){var a=t.showLegend,o=t.layers.slice();o.reverse(),o.forEach(function(t){var r=new n({portalItem:e.portalItem,layerId:t.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var o={origin:"portal-item",portal:e.portalItem.portal||i.getDefault()};r.read(t,o),null!=a&&r.read({showLegend:a},o)}e.add(r)})}function f(e){if(!1===e.supportsData)return a.resolve();var n=e.instance;return n.portalItem.fetchData().catch(function(){return null}).then(function(e){var t,r=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(n)){var a=!0;if(e&&Array.isArray(r.layers)){null==n.layerId&&(n.layerId=r.layers[0].id);for(var o=0;o<r.layers.length;o++)if(r.layers[o].id===n.layerId){t=r.layers[o];break}t&&(1===r.layers.length&&(a=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))}return a&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),t}return e})}Object.defineProperty(n,"__esModule",{value:!0}),n.load=function(e){var n=e.instance.portalItem;return n&&n.id?n.load().then(function(){return function(e){var n=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(n.type))throw new r("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:n.type,expectedType:e.supportedTypes.join(", ")})}(e)}).then(function(){return function(e){var n=e.instance,t=n.portalItem,r=t.url,a=t.title,u=c.createForItem(t);return n.isInstanceOf(o)?(n.read({title:a},u),p(n,e)):(r&&n.read({url:r},u),f(e).then(function(e){return e&&n.read(e,u),n.read({title:a},u),l.loadStyleRenderer(n,u)}))}(e)}):a.resolve()}}.apply(null,r))||(e.exports=a)},1343:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(8)],void 0===(a=function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={CSVLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(246)];e.apply(null,n)}.bind(this)).catch(t.oe)})},ElevationLayer:function(){return r.create(function(e){return t.e(14).then(function(){var n=[t(1229)];e.apply(null,n)}.bind(this)).catch(t.oe)})},FeatureLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(94)];e.apply(null,n)}.bind(this)).catch(t.oe)})},GroupLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(238)];e.apply(null,n)}.bind(this)).catch(t.oe)})},GeoRSSLayer:function(){return r.create(function(e){return t.e(16).then(function(){var n=[t(1237)];e.apply(null,n)}.bind(this)).catch(t.oe)})},ImageryLayer:function(){return r.create(function(e){return t.e(31).then(function(){var n=[t(1235)];e.apply(null,n)}.bind(this)).catch(t.oe)})},KMLLayer:function(){return r.create(function(e){return t.e(18).then(function(){var n=[t(1238)];e.apply(null,n)}.bind(this)).catch(t.oe)})},MapImageLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(137)];e.apply(null,n)}.bind(this)).catch(t.oe)})},MapNotesLayer:function(){return r.create(function(e){return t.e(51).then(function(){var n=[t(1493)];e.apply(null,n)}.bind(this)).catch(t.oe)})},OpenStreetMapLayer:function(){return r.create(function(e){return t.e(19).then(function(){var n=[t(1239)];e.apply(null,n)}.bind(this)).catch(t.oe)})},PointCloudLayer:function(){return r.create(function(e){return t.e(30).then(function(){var n=[t(1240)];e.apply(null,n)}.bind(this)).catch(t.oe)})},SceneLayer:function(){return r.create(function(e){return Promise.resolve().then(function(){var n=[t(244)];e.apply(null,n)}.bind(this)).catch(t.oe)})},IntegratedMeshLayer:function(){return r.create(function(e){return t.e(17).then(function(){var n=[t(1230)];e.apply(null,n)}.bind(this)).catch(t.oe)})},StreamLayer:function(){return r.create(function(e){return t.e(13).then(function(){var n=[t(1236)];e.apply(null,n)}.bind(this)).catch(t.oe)})},TileLayer:function(){return r.create(function(e){return t.e(52).then(function(){var n=[t(458)];e.apply(null,n)}.bind(this)).catch(t.oe)})},UnknownLayer:function(){return r.create(function(e){return t.e(53).then(function(){var n=[t(1494)];e.apply(null,n)}.bind(this)).catch(t.oe)})},UnsupportedLayer:function(){return r.create(function(e){return t.e(54).then(function(){var n=[t(1495)];e.apply(null,n)}.bind(this)).catch(t.oe)})},VectorTileLayer:function(){return r.create(function(e){return Promise.all([t.e(5),t.e(20)]).then(function(){var n=[t(1233)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WebTileLayer:function(){return r.create(function(e){return t.e(21).then(function(){var n=[t(1232)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WMSLayer:function(){return r.create(function(e){return t.e(22).then(function(){var n=[t(1241)];e.apply(null,n)}.bind(this)).catch(t.oe)})},WMTSLayer:function(){return r.create(function(e){return t.e(85).then(function(){var n=[t(1496)];e.apply(null,n)}.bind(this)).catch(t.oe)})},BingMapsLayer:function(){return r.create(function(e){return t.e(7).then(function(){var n=[t(245)];e.apply(null,n)}.bind(this)).catch(t.oe)})}}}.apply(null,r))||(e.exports=a)},1623:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(22),t(49)],void 0===(a=function(e,n,t,r){Object.defineProperty(n,"__esModule",{value:!0}),n.createForItem=function(e){return{origin:"portal-item",url:t.urlToObject(e.itemUrl),portal:e.portal||r.getDefault()}}}.apply(null,r))||(e.exports=a)}}]);